import{r as p,o as n,j as e,$ as S,c8 as Z,bZ as K,b_ as X,b$ as Y,aa as U,cv as z,af as L,ag as O,aj as f,ab as G,au as he,bb as ce,av as ge,p as le,aO as se,ac as ae,ad as oe,ai as me,bW as be,D as ve,x as ye,y as ie}from"./index.365e3ad1.js";import{T as ee,a as te,b as W,c as F,i as fe}from"./Tab.2426e1b5.js";import{Q as ue}from"./index.es.72966381.js";import{u as pe,C as N}from"./index.esm.b088bfd3.js";import{T as re,E as Q}from"./App.cc007f5c.js";import{B as q}from"./Box.49332790.js";import{S as J}from"./StatsVertical.c4b296d3.js";import{T as xe}from"./Typography.197d1641.js";import"./emotion-react.browser.esm.1eaededd.js";import"./emotion-memoize.esm.06f0e458.js";import"./emotion-is-prop-valid.esm.22611268.js";import"./TransitionGroup.cc68f7e1.js";function _e({dietas:t,setDietas:d,editarCopiar:l,plan_id:$}){const[u,P]=p.exports.useState("1"),i=c=>{u===c?P():P(c)};function r(c,C){if(l=="Copiar"){const y=[...t];y.splice(c,1),d(y)}if(l=="Editar"){const y=[...t];C!=""?(f.delete(`https://dietservice.bitjoins.pe/api/dieta/eliminar/${$}/${c+1}`).then(V=>{console.log(V.data)}),y.splice(c,1),d(y)):(y.splice(c,1),d(y))}}function A(){d(c=>[...c,[{comida:"1",descripcion:"",id:"",opcion:(c.length+1).toString(),planalimentacion_id:""},{comida:"2",descripcion:"",id:"",opcion:(c.length+1).toString(),planalimentacion_id:""},{comida:"3",descripcion:"",id:"",opcion:(c.length+1).toString(),planalimentacion_id:""},{comida:"4",descripcion:"",id:"",opcion:(c.length+1).toString(),planalimentacion_id:""}]])}const[h,D]=p.exports.useState(null),T=c=>{D(c)},I=()=>{D(null)},k=(c,C,y)=>{const{value:V}=c.target;d(g=>g.map((E,j)=>j===C?E.map((s,x)=>x===y?{...s,descripcion:V}:s):E))};return n("div",{children:[e(S,{color:"success",onClick:()=>A(),children:"Agregar opcion"}),e("ul",{children:t.map((c,C)=>e("li",{style:{listStyle:"none"},children:e(Z,{open:u,toggle:i,style:{padding:0,margin:0},children:n(K,{children:[n("div",{style:{display:"flex",alignItems:"center"},children:[e(re,{size:20,onClick:()=>{var y;return r(C,(y=c==null?void 0:c[0])==null?void 0:y.id)},style:{color:h===C?"red":"black",cursor:"pointer"},onMouseEnter:()=>T(C),onMouseLeave:I}),n(X,{targetId:C,children:[" Opcion # ",C+1]})]}),e(Y,{accordionId:C,children:c.map((y,V)=>e(U,{children:n(z,{children:[e(L,{children:y.comida==1?"Desayuno":y.comida==2?"Almuerzo":y.comida==3?"Cena":y.comida==4?"Merienda":null}),e(O,{name:"descripcion",placeholder:"Ingrese la comida",type:"textarea",defaultValue:y==null?void 0:y.descripcion,onChange:g=>k(g,C,V)})]})},V))})]})})},C))})]})}function Ce({planSeleccionado:t,dietas:d,setDietas:l,recomendaciones:$,setRecomendaciones:u,ejercicios:P,setEjercicios:i,patologia:r,setPatologia:A,editarCopiar:h}){const[D,T]=p.exports.useState("dieta"),{control:I}=pe({}),[k,c]=p.exports.useState(null),[C,y]=p.exports.useState("1"),V=(a,o)=>{T(o)};p.exports.useEffect(()=>{async function a(){await f.get(`https://dietservice.bitjoins.pe/api/plan-alimentacion/dietas/web/${t==null?void 0:t.planalimentacion_id}`).then(o=>{l(o.data)}),await f.get(`https://dietservice.bitjoins.pe/api/recomendaciones-web/${t==null?void 0:t.planalimentacion_id}`).then(o=>{u(o.data)}),await f.get(`https://dietservice.bitjoins.pe/api/ejercicios-web/${t==null?void 0:t.planalimentacion_id}`).then(o=>{i(o.data)}),await f.get(`https://dietservice.bitjoins.pe/api/patologias-web/${t==null?void 0:t.planalimentacion_id}`).then(o=>{A(o.data)})}a()},[]),p.exports.useEffect(()=>{h=="Copiar"&&(r==null||r.map(a=>{a.patologia_por_plan_id=""}))},r);const g=a=>{C===a?y():y(a)},E=a=>{c(a)},j=()=>{c(null)},s=(a,o)=>{const{value:b}=a.target;u(M=>M.map((_,B)=>B===o?{..._,recomendacion:b}:_))},x=(a,o)=>{const{value:b}=a.target;u(M=>M.map((_,B)=>B===o?{..._,tipo:b}:_))};function v(){u(a=>[...a,{recomendacion:"",id:"",tipo:"",planalimentacion_id:""}])}const m=(a,o)=>{const{value:b}=a.target;i(M=>M.map((_,B)=>B===o?{..._,tipoejercicio:b}:_))},w=(a,o)=>{const{value:b}=a.target;i(M=>M.map((_,B)=>B===o?{..._,tiempo:b}:_))},R=(a,o)=>{const{value:b}=a.target;i(M=>M.map((_,B)=>B===o?{..._,observaciones:b}:_))};function H(){i(a=>[...a,{tipoejercicio:"",id:"",tiempo:"",planalimentacion_id:"",observaciones:""}])}console.log(r);function ne(a,o){const b=[...$];h=="Copiar"&&(b.splice(a,1),u(b)),h=="Editar"&&(o!=""?(f.delete(`https://dietservice.bitjoins.pe/api/recomendaciones/eliminar/${o}`).then(M=>{console.log(M.data)}),b.splice(a,1),u(b)):(b.splice(a,1),u(b)))}function de(a,o){const b=[...P];h=="Copiar"&&(b.splice(a,1),i(b)),h=="Editar"&&(o!=""?(f.delete(`https://dietservice.bitjoins.pe/api/ejercicios/eliminar/${o}`).then(M=>{console.log(M.data)}),b.splice(a,1),i(b)):(b.splice(a,1),i(b)))}return e("div",{children:e(q,{sx:{width:"100%",typography:"body1"},children:n(ee,{value:D,children:[e(q,{sx:{borderBottom:1,borderColor:"divider"},children:n(te,{onChange:V,"aria-label":"lab API tabs example",children:[e(W,{label:"Dieta",value:"dieta"}),e(W,{label:"Recomendaciones",value:"recomendaciones"}),e(W,{label:"Ejercicios",value:"ejercicios"}),e(W,{label:"Patologia",value:"patologia"})]})}),e(F,{value:"dieta",children:e(_e,{dietas:d,setDietas:l,editarCopiar:h,plan_id:t==null?void 0:t.planalimentacion_id})}),n(F,{value:"recomendaciones",children:[e(S,{color:"success",onClick:()=>v(),children:"Agregar opcion"}),e("ul",{children:$.map((a,o)=>e("li",{style:{listStyle:"none"},children:e(Z,{open:C,toggle:g,style:{padding:0,margin:0},children:n(K,{children:[n("div",{style:{display:"flex",alignItems:"center"},children:[e(re,{size:20,onClick:()=>ne(o,a==null?void 0:a.id),style:{color:k===o?"red":"black",cursor:"pointer"},onMouseEnter:()=>E(o),onMouseLeave:j}),n(X,{targetId:o,children:[" Opcion ",o+1]})]}),e(Y,{accordionId:o,children:n(U,{children:[e(G,{children:e(N,{name:"tipo",control:I,render:({field:{onChange:b,value:M}})=>n(z,{children:[e(L,{children:"Tipo"}),n(O,{placeholder:"Ingrese el tipo",type:"select",defaultValue:a==null?void 0:a.tipo,onChange:_=>{x(_,o),b(_.target.value)},children:[e("option",{value:"",children:"Seleccione el tipo"}),e("option",{value:"1",children:"Pautas Generales"}),e("option",{value:"2",children:"Alimentos Prohibidos"}),e("option",{value:"3",children:"Prohibidos (Consumo Mensual)"}),e("option",{value:"4",children:"No olvidar"})]})]})})}),e(G,{children:e(N,{name:"recomendacion",control:I,render:({field:{onChange:b,value:M}})=>e(z,{children:e(O,{placeholder:"Ingrese la recomendacion",type:"textarea",onChange:_=>{s(_,o),b(_.target.value)},defaultValue:a==null?void 0:a.recomendacion})})})})]})})]})})},o))})]}),n(F,{value:"ejercicios",children:[e(S,{color:"success",onClick:()=>H(),children:"Agregar opcion"}),e("ul",{children:P.map((a,o)=>e("li",{style:{listStyle:"none"},children:e(Z,{open:C,toggle:g,style:{padding:0,margin:0},children:n(K,{children:[n("div",{style:{display:"flex",alignItems:"center"},children:[e(re,{size:20,onClick:()=>de(o,a==null?void 0:a.id),style:{color:k===o?"red":"black",cursor:"pointer"},onMouseEnter:()=>E(o),onMouseLeave:j}),n(X,{targetId:o,children:[" Opcion ",o+1]})]}),e(Y,{accordionId:o,children:n(U,{children:[e(G,{children:e(N,{name:"tipoejercicio",control:I,render:({field:{onChange:b,value:M}})=>n(z,{children:[e(L,{children:"Tipo Ejercicio"}),e(O,{placeholder:"Ingrese el tipo",type:"text",defaultValue:a==null?void 0:a.tipoejercicio,onChange:_=>{m(_,o),b(_.target.value)}})]})})}),e(G,{children:e(N,{name:"tiempo",control:I,render:({field:{onChange:b,value:M}})=>n(z,{children:[e(L,{children:"Tiempo"}),e(O,{placeholder:"Ingrese la recomendacion",type:"textarea",onChange:_=>{w(_,o),b(_.target.value)},defaultValue:a==null?void 0:a.tiempo})]})})}),e(G,{children:e(N,{name:"observaciones",control:I,render:({field:{onChange:b,value:M}})=>n(z,{children:[e(L,{children:"Observaciones"}),e(O,{placeholder:"Ingrese la recomendacion",type:"textarea",onChange:_=>{R(_,o),b(_.target.value)},defaultValue:a==null?void 0:a.observaciones})]})})})]})})]})})},o))})]}),e(F,{value:"patologia",children:r.length<1?"No tiene patologias":e("ul",{children:r==null?void 0:r.map((a,o)=>e("li",{style:{listStyle:"none"},children:e(Z,{open:C,toggle:g,style:{padding:0,margin:0},children:n(K,{children:[n(X,{targetId:o,children:[" ",a.nombre]}),e(Y,{accordionId:o,children:e("div",{dangerouslySetInnerHTML:{__html:a.descripcion}})})]})})},o))})})]})})})}function we({modal:t,toggle:d,filaSeleccionada:l,setFilaSeleccionada:$,editarCopiar:u}){const{handleSubmit:P,control:i,reset:r}=pe({}),[A,h]=p.exports.useState([]),[D,T]=p.exports.useState([]),[I,k]=p.exports.useState([]),[c,C]=p.exports.useState([]),[y,V]=p.exports.useState([]),[g,E]=p.exports.useState([]);async function j(s){u=="Copiar"&&await f.post("https://dietservice.bitjoins.pe/api/plan_alimentacion/create_web",s).then(x=>{var v,m;if(x.status=200){console.log(x);const w=(m=(v=x==null?void 0:x.data)==null?void 0:v.data)==null?void 0:m.id;A.map(R=>{R.map(H=>{H.planalimentacion_id=w.toString(),f.post("https://dietservice.bitjoins.pe/api/dieta/create",H).then(ne=>console.log(ne))})}),D.map(R=>{R.planalimentacion_id=w.toString(),f.post("https://dietservice.bitjoins.pe/api/recomendaciones/create",R).then(H=>console.log(H))}),I.map(R=>{R.planalimentacion_id=w.toString(),f.post("https://dietservice.bitjoins.pe/api/ejercicios/create",R).then(H=>console.log(H))}),g==null||g.map(R=>{R.planalimentacion_id=w.toString(),f.post("https://dietservice.bitjoins.pe/api/crear-patologia-web",R).then(H=>{console.log(H)})})}}),u=="Editar"&&await f.put(`https://dietservice.bitjoins.pe/api/plan_alimentacion/actualizar/${l==null?void 0:l.planalimentacion_id}`,s).then(x=>{if(x.status=200){console.log(x.data);const v=l==null?void 0:l.planalimentacion_id;A.map(m=>{m.map(w=>{w.planalimentacion_id=v.toString(),(w==null?void 0:w.id)!==""?f.put(`https://dietservice.bitjoins.pe/api/dieta/actualizar/${w==null?void 0:w.id}`,w).then(R=>console.log(R.data.message)):f.post("https://dietservice.bitjoins.pe/api/dieta/create",w).then(R=>console.log(R.data.message))})}),D.map(m=>{m.planalimentacion_id=v.toString(),(m==null?void 0:m.id)!=""?f.put(`https://dietservice.bitjoins.pe/api/recomendaciones/actualizar/${m==null?void 0:m.id}`,m).then(w=>console.log(w.data)):f.post("https://dietservice.bitjoins.pe/api/recomendaciones/create",m).then(w=>console.log(w.data.message))}),I.map(m=>{m.planalimentacion_id=v.toString(),(m==null?void 0:m.id)!=""?f.put(`https://dietservice.bitjoins.pe/api/ejercicios/actualizar/${m==null?void 0:m.id}`,m).then(w=>console.log(w.data.message)):f.post("https://dietservice.bitjoins.pe/api/ejercicios/create",m).then(w=>console.log(w.data.message))}),g==null||g.map(m=>{m.planalimentacion_id=v.toString(),m.patologia_por_plan_id==""&&f.post("https://dietservice.bitjoins.pe/api/crear-patologia-web",m).then(w=>{console.log(w)})})}}),d()}return p.exports.useEffect(()=>{async function s(){await f.get("https://dietservice.bitjoins.pe/api/nutricionistas").then(x=>{C(x.data)}),await f.get("https://dietservice.bitjoins.pe/api/usuarios-web").then(x=>{V(x.data)})}s()},[]),e("div",{children:n(he,{isOpen:t,toggle:()=>{d(),h([]),T([]),k([]),E([]),r(),$({})},fullscreen:!0,scrollable:!0,children:[e(ce,{toggle:()=>{d(),h([]),T([]),k([]),E([]),r(),$({})},children:"Nuevo Plan"}),e(ge,{children:n("form",{onSubmit:P(j),children:[e(U,{children:e(N,{name:"fecultimaact",control:i,render:({field:{value:s,...x}})=>n(z,{children:[e(L,{children:"Fecha"}),e(O,{placeholder:"Ingrese la fecha de inicio",type:"date",...x})]})})}),e(U,{children:e(N,{name:"nombre",control:i,defaultValue:l==null?void 0:l.plan,render:({field:s})=>n(z,{children:[e(L,{children:"Plan"}),e(O,{placeholder:"Ingrese el nombre del plan",type:"text",...s})]})})}),n(U,{children:[e(G,{children:e(N,{name:"usuario_id",control:i,defaultValue:l==null?void 0:l.usuario_id,render:({field:{onChange:s,value:x}})=>n(z,{children:[e(L,{children:"Cliente"}),n(O,{placeholder:"Seleccione el cliente",type:"select",onChange:v=>s(v.target.value),children:[n("option",{value:l==null?void 0:l.usuario_id,children:[l==null?void 0:l.nombre," ",l==null?void 0:l.apellido]}),y==null?void 0:y.filter(v=>v.usuario_id!=(l==null?void 0:l.usuario_id)).map((v,m)=>n("option",{value:v==null?void 0:v.usuario_id,children:[v==null?void 0:v.nombre," ",v==null?void 0:v.apellido]},m))]})]})})}),e(G,{children:e(N,{name:"nutricionista_id",control:i,defaultValue:l==null?void 0:l.nutricionista_id,render:({field:{onChange:s,value:x}})=>n(z,{children:[e(L,{children:"Nutricionista"}),n(O,{placeholder:"Seleccione el nutricionista",type:"select",onChange:v=>s(v.target.value),children:[e("option",{value:l==null?void 0:l.nutricionista_id,children:l==null?void 0:l.nutricionista_nombres}),c==null?void 0:c.map((v,m)=>e("option",{value:v==null?void 0:v.id,children:v==null?void 0:v.nombres},m))]})]})})})]}),n(U,{children:[e(G,{children:e(N,{name:"tips",control:i,defaultValue:l==null?void 0:l.tips,render:({field:s})=>n(z,{children:[e(L,{children:"Tips"}),e(O,{placeholder:"Ingrese el tip",type:"textarea",...s})]})})}),e(G,{children:e(N,{name:"notas",control:i,defaultValue:l==null?void 0:l.notas,render:({field:s})=>n(z,{children:[e(L,{children:"Notas"}),e(O,{placeholder:"Ingresa las notas",type:"textarea",...s})]})})})]}),e(Ce,{planSeleccionado:l,dietas:A,setDietas:h,recomendaciones:D,setRecomendaciones:T,ejercicios:I,setEjercicios:k,patologia:g,setPatologia:E,editarCopiar:u}),e(S,{color:"success",type:"submit",children:"Ok"}),e(S,{color:"secondary",onClick:()=>{d(),r(),$({})},children:"Cancel"})]})})]})})}function Ae({plan:t}){const[d,l]=p.exports.useState("1"),[$,u]=p.exports.useState([]),P=(i,r)=>{l(r)};return p.exports.useEffect(()=>{f.get(`https://dietservice.bitjoins.pe/api/plan-alimentacion/dietas/${t}`).then(i=>u(i.data.data))},[t]),e(p.exports.Fragment,{children:n(ee,{value:d,children:[e(te,{onChange:P,"aria-label":"simple tabs example",scrollButtons:"auto",children:$.map((i,r)=>{var A,h,D,T,I,k,c;return e(W,{value:i.opcion,label:i.fecha_inicio_dia=="Monday"?`Lunes ${(A=i==null?void 0:i.fecha_inicio)==null?void 0:A.split("-")[2]}`:i.fecha_inicio_dia=="Tuesday"?`Martes ${(h=i==null?void 0:i.fecha_inicio)==null?void 0:h.split("-")[2]}`:i.fecha_inicio_dia=="Wednesday"?`Miercoles ${(D=i==null?void 0:i.fecha_inicio)==null?void 0:D.split("-")[2]}`:i.fecha_inicio_dia=="Thursday"?`Jueves ${(T=i==null?void 0:i.fecha_inicio)==null?void 0:T.split("-")[2]}`:i.fecha_inicio_dia=="Friday"?`Viernes ${(I=i==null?void 0:i.fecha_inicio)==null?void 0:I.split("-")[2]}`:i.fecha_inicio_dia=="Saturday"?`Sabado ${(k=i==null?void 0:i.fecha_inicio)==null?void 0:k.split("-")[2]}`:i.fecha_inicio_dia=="Sunday"?`Domingo ${(c=i==null?void 0:i.fecha_inicio)==null?void 0:c.split("-")[2]}`:null},r)})}),$.map((i,r)=>{var A;return e(F,{value:i.opcion,children:e("ul",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:(A=i==null?void 0:i.comidas)==null?void 0:A.map((h,D)=>e("li",{style:{listStyle:"none"},children:n("div",{style:{display:"flex",alignItems:"center",gap:"1rem",justifyContent:"flex-start"},children:[e("h5",{style:{width:"7rem"},children:(h==null?void 0:h.comida)==1?"Desayuno":(h==null?void 0:h.comida)==2?"Almuerzo":(h==null?void 0:h.comida)==3?"Cena":(h==null?void 0:h.comida)==4?"Meriendas":null}),e("p",{style:{width:"40rem",padding:"1rem",backgroundColor:"#E5B359",color:"white",borderRadius:"1rem"},children:h==null?void 0:h.descripcion})]})},D))})})})]})})}function Ie({plan:t}){const[d,l]=p.exports.useState([]),[$,u]=p.exports.useState("1"),P=(r,A)=>{u(A)};p.exports.useEffect(()=>{f.get(`https://dietservice.bitjoins.pe/api/recomendaciones-web/${t}`).then(r=>{Array.isArray(r.data)?l(r.data):l([r.data])})},[t]),p.exports.useEffect(()=>{var r;u((r=d==null?void 0:d[0])==null?void 0:r.tipo)},[d]);function i(r){return r.split(`
`).filter(T=>T.trim()!==".").map((T,I)=>e("p",{children:T},I))}return e(p.exports.Fragment,{children:n(ee,{value:$,children:[e(te,{onChange:P,"aria-label":"simple tabs example",scrollButtons:"auto",children:d==null?void 0:d.map((r,A)=>e(W,{value:r==null?void 0:r.tipo,label:(r==null?void 0:r.tipo)==1?"Pautas Generales":(r==null?void 0:r.tipo)==2?"Alimentos Permitidos":(r==null?void 0:r.tipo)==3?"Prohibidos (Consumo Mensual)":(r==null?void 0:r.tipo)==4?"No Olvidar":null},A))}),d==null?void 0:d.map((r,A)=>e(F,{value:r==null?void 0:r.tipo,children:i(r==null?void 0:r.recomendacion)},A))]})})}function Te({ejercicios:t}){return e("div",{children:t.map((d,l)=>e("ul",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:e("li",{style:{listStyle:"none"},children:n("div",{style:{display:"flex",alignItems:"center",gap:"2rem",justifyContent:"flex-start"},children:[e("h5",{style:{minWidth:"7rem"},children:d.tipoejercicio}),e("p",{style:{width:"50rem",padding:"1rem",backgroundColor:"#48a38a",color:"white",borderRadius:"1rem"},children:d.observaciones})]})},l)}))})}function $e({patologia:t}){const[d,l]=p.exports.useState("1"),$=u=>{d===u?l():l(u)};return console.log(t),e("div",{children:t.length==0?e("p",{children:"Ninguna"}):e(Z,{open:d,toggle:$,children:t==null?void 0:t.map((u,P)=>e("li",{style:{listStyle:"none"},children:n(K,{children:[n(X,{targetId:P,children:[" ",u.nombre]}),e(Y,{accordionId:P,children:e("div",{dangerouslySetInnerHTML:{__html:u.descripcion}})})]})},P))})})}function Ee({usuario:t}){const[d,l]=p.exports.useState({}),[$,u]=p.exports.useState({}),[P,i]=p.exports.useState("dieta"),[r,A]=p.exports.useState([]),[h,D]=p.exports.useState([]),[T,I]=p.exports.useState(0),k=(g,E)=>{I(E)};p.exports.useEffect(()=>{f.get(`https://dietservice.bitjoins.pe/api/ultima-evolucion/${t==null?void 0:t.usuario_id}`).then(g=>l(g.data)),f.get("https://dietservice.bitjoins.pe/api/consultorios").then(g=>{const E=g.data.filter(j=>(j==null?void 0:j.id)===t.consultorio_id);u(E)}),f.get("https://dietservice.bitjoins.pe/api/empresas").then(g=>setEmpresas(g.data)),f.get(`https://dietservice.bitjoins.pe/api/ejercicios-web/${t==null?void 0:t.planalimentacion_id}`).then(g=>{A(g.data)}),f.get(`https://dietservice.bitjoins.pe/api/patologias-web/${t==null?void 0:t.planalimentacion_id}`).then(g=>{D(g.data)})},[]);function c(g){const{children:E,value:j,index:s,...x}=g;return e("div",{role:"tabpanel",hidden:j!==s,id:`vertical-tabpanel-${s}`,"aria-labelledby":`vertical-tab-${s}`,...x,children:j===s&&e(q,{sx:{p:3},children:e(xe,{children:E})})})}F.propTypes={children:le.exports.node,index:le.exports.number.isRequired,value:le.exports.number.isRequired};function C(g){return{id:`vertical-tab-${g}`,"aria-controls":`vertical-tabpanel-${g}`}}const y=(g,E)=>{i(E)};function V(g){return g.split(".").map((s,x)=>e("p",{children:s},x))}return n("div",{style:{display:"flex",gap:"1rem"},children:[n("div",{style:{display:"flex",flexDirection:"column",width:"30rem"},children:[n("div",{style:{display:"flex",flexDirection:"column",gap:".25rem"},children:[n("h4",{style:{textAlign:"center",fontSize:"2rem"},children:[t==null?void 0:t.nombre," ",t==null?void 0:t.apellido]}),n("div",{style:{display:"flex"},children:[e("p",{style:{width:"8rem",textAlign:"right",fontWeight:700,backgroundColor:"#ACE1AF",margin:0,padding:".5rem",borderRadius:".25rem"},children:"Usuario"}),e("p",{style:{width:"15rem",textAlign:"riht",margin:0,padding:".5rem"},children:t==null?void 0:t.email})]}),n("div",{style:{display:"flex"},children:[e("p",{style:{width:"8rem",textAlign:"right",fontWeight:700,backgroundColor:"#ACE1AF",margin:0,padding:".5rem",borderRadius:".25rem"},children:"Telefono"}),e("p",{style:{width:"15rem",textAlign:"riht",margin:0,padding:".5rem"},children:t==null?void 0:t.telefono})]}),n("div",{style:{display:"flex"},children:[e("p",{style:{width:"8rem",textAlign:"right",fontWeight:700,backgroundColor:"#ACE1AF",margin:0,padding:".5rem",borderRadius:".25rem"},children:"Ocupacion"}),e("p",{style:{width:"15rem",textAlign:"riht",margin:0,padding:".5rem"},children:t==null?void 0:t.ocupacion})]}),n("div",{style:{display:"flex"},children:[e("p",{style:{width:"8rem",textAlign:"right",fontWeight:700,backgroundColor:"#ACE1AF",margin:0,padding:".5rem",borderRadius:".25rem"},children:"Distrito"}),e("p",{style:{width:"15rem",textAlign:"riht",margin:0,padding:".5rem"},children:t==null?void 0:t.distrito})]}),n("div",{style:{display:"flex"},children:[e("p",{style:{width:"8rem",textAlign:"right",fontWeight:700,backgroundColor:"#ACE1AF",margin:0,padding:".5rem",borderRadius:".25rem"},children:"Consultorio"}),e("p",{style:{width:"15rem",textAlign:"riht",margin:0,padding:".5rem"},children:$.nombre})]}),n("div",{style:{display:"flex"},children:[e("p",{style:{width:"8rem",textAlign:"right",fontWeight:700,backgroundColor:"#ACE1AF",margin:0,padding:".5rem",borderRadius:".25rem"},children:"Empresa"}),e("p",{style:{width:"15rem",textAlign:"riht",margin:0,padding:".5rem"},children:t==null?void 0:t.empresa_id})]}),n("div",{style:{display:"flex"},children:[e("p",{style:{width:"8rem",textAlign:"right",fontWeight:700,backgroundColor:"#ACE1AF",margin:0,padding:".5rem",borderRadius:".25rem"},children:"Ultima Cita"}),e("p",{style:{width:"15rem",textAlign:"riht",margin:0,padding:".5rem"},children:t==null?void 0:t.distrito})]})]}),n("div",{children:[e("p",{style:{fontSize:"3rem",textAlign:"center"},children:t==null?void 0:t.talla}),e("h5",{style:{fontSize:"1.5rem",textAlign:"center"},children:"Talla"})]}),e("div",{})]}),n("div",{style:{width:"70rem",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[n("div",{style:{display:"flex",justifyContent:"center",gap:"1rem"},children:[e(J,{icon:e(Q,{size:21}),color:"info",stats:d==null?void 0:d.peso,statTitle:"Peso Actual"}),e(J,{icon:e(Q,{size:21}),color:"info",stats:d==null?void 0:d.p_grasa,statTitle:"% Grasa Actual"}),e(J,{icon:e(Q,{size:21}),color:"info",stats:t==null?void 0:t.peso_ideal,statTitle:"Peso Ideal"}),e(J,{icon:e(Q,{size:21}),color:"info",stats:t==null?void 0:t.p_grasa_ideal,statTitle:"% Grasa Ideal"}),e(J,{icon:e(Q,{size:21}),color:"info",stats:t==null?void 0:t.p_masa_muscular,statTitle:"% Masa Muscular Ideal"})]}),n(q,{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex",width:"100%%"},children:[n(fe,{orientation:"vertical",variant:"scrollable",value:T,onChange:k,"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider",width:"30%"},children:[e(W,{label:"Dietas",...C(0)}),e(W,{label:"Historial",...C(1)})]}),e(c,{value:T,index:0,children:n(q,{sx:{width:"100%",overflow:"hidden"},children:[n(ee,{value:P,children:[e(q,{sx:{borderBottom:1,borderColor:"divider"},children:n(te,{onChange:y,"aria-label":"lab API tabs example",children:[e(W,{label:"Dieta",value:"dieta"}),e(W,{label:"Recomendaciones",value:"recomendaciones"}),e(W,{label:"Ejercicios",value:"ejercicios"}),e(W,{label:"Patologia",value:"patologia"})]})}),e(F,{value:"dieta",children:e(Ae,{plan:t==null?void 0:t.planalimentacion_id})}),e(F,{value:"recomendaciones",children:e(Ie,{plan:t==null?void 0:t.planalimentacion_id})}),e(F,{value:"ejercicios",children:e(Te,{ejercicios:r})}),e(F,{value:"patologia",children:e($e,{patologia:h})})]}),n("div",{style:{display:"flex",gap:"2rem"},children:[n(se,{body:!0,className:"my-2",style:{width:"10rem"},children:[e(ae,{tag:"h5",children:"Tips"}),e(oe,{children:V(t==null?void 0:t.tips)})]}),n(se,{body:!0,className:"my-2",style:{width:"10rem"},children:[e(ae,{tag:"h5",children:"Notas"}),e(oe,{children:t==null?void 0:t.notas})]})]})]})}),e(c,{value:T,index:1,children:"Historial"})]})]})]})}function Pe({direction:t}){const[d,l]=p.exports.useState("historico"),[$,u]=p.exports.useState([]),[P,i]=p.exports.useState(!0),[r,A]=p.exports.useState(!1),[h,D]=p.exports.useState(null),[T,I]=p.exports.useState({}),[k,c]=p.exports.useState(!1),C=()=>c(!k),[y,V]=p.exports.useState(""),g=s=>{h===s?A(!r):(A(!0),D(s))};p.exports.useEffect(()=>{async function s(){await f.get("https://dietservice.bitjoins.pe/api/plan_alimentacion").then(x=>{u(x.data)}),i(!1)}s()},[]),console.log($);const E=(s,x)=>{l(x)},j=[{cell:s=>n(be,{isOpen:r&&h===s,toggle:()=>g(s),direction:t,children:[e(ve,{caret:!0,children:"Opciones"}),n(ye,{children:[e(ie,{onClick:()=>{I(s),l("plan")},children:"Detalle"}),e(ie,{onClick:()=>{C(),V("Editar"),I(s)},children:"Editar"}),e(ie,{onClick:()=>{C(),I(s),V("Copiar")},children:"Copiar"})]})]})},{name:"Item",selector:(s,x)=>s.planalimentacion_id,center:!0,maxWidth:"2rem",sortable:!0},{name:"Plan",selector:s=>s.plan,minWidth:"12rem",sortable:!0},{name:"Estado",selector:s=>s.estado,minWidth:"12rem",sortable:!0},{name:"Cliente",selector:s=>`${s.nombre} ${s.apellido}`,minWidth:"12rem",sortable:!0},{name:"Usuario",selector:s=>s.email,minWidth:"12rem",sortable:!0},{name:"Distrito",selector:s=>s.estado,minWidth:"12rem",sortable:!0},{name:"Fecha",selector:s=>s.fecultimaact,minWidth:"12rem",sortable:!0},{name:"Nutricionista",selector:s=>s.nutricionista_nombres,minWidth:"12rem",sortable:!0},{name:"Contacto",selector:s=>s.contacto,minWidth:"12rem",sortable:!0}];return e("div",{children:e(p.exports.Fragment,{children:n(ee,{value:d,children:[n(te,{onChange:E,"aria-label":"simple tabs example",children:[e(W,{value:"historico",label:"Historico"}),e(W,{value:"plan",label:"Plan"})]}),n(F,{value:"historico",children:[e(ue,{columns:j,data:$,pagination:!0,noDataComponent:"No hay data",progressPending:P,progressComponent:e(me,{children:"Loading..."})}),e(we,{modal:k,toggle:C,filaSeleccionada:T,setFilaSeleccionada:I,editarCopiar:y})]}),e(F,{value:"plan",children:e(Ee,{usuario:T})})]})})})}Pe.propTypes={direction:"down"};export{Pe as default};
