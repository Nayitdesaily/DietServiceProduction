import{r as l,j as e,c8 as B,o,bZ as H,b_ as L,b$ as N,ab as f,cv as y,ag as x,F as C,aj as O,au as R,bb as z,av as G,ac as W,E as _,ai as Q,bW as U,D as Z,x as q,y as A}from"./index.58424139.js";import{T as F,a as V,b as D,c as I}from"./Tab.7b696e75.js";import{Q as J}from"./index.es.b5d421a5.js";import{m as K}from"./mock.5daab1cc.js";import{u as X,C as w}from"./index.esm.4f32c3e0.js";import{T as Y}from"./App.10c79363.js";import{B as k}from"./Box.36ee6fdf.js";import"./emotion-react.browser.esm.5c50728f.js";import"./emotion-memoize.esm.06f0e458.js";import"./emotion-is-prop-valid.esm.22611268.js";import"./TransitionGroup.863f6fff.js";function S({dietas:p,setDietas:h}){const[t,u]=l.exports.useState("1"),v=i=>{t===i?u():u(i)},c=i=>{const r=[...p];r.splice(i,1),h(r)},[m,d]=l.exports.useState(null),T=i=>{d(i)},b=()=>{d(null)},M=(i,r,s)=>{const{value:a}=i.target;h(g=>g.map((j,$)=>$===r?j.map((E,n)=>n===s?{...E,descripcion:a}:E):j))};return e("ul",{children:p.map((i,r)=>e("li",{style:{listStyle:"none"},children:e(B,{open:t,toggle:v,style:{padding:0,margin:0},children:o(H,{children:[o("div",{style:{display:"flex",alignItems:"center"},children:[e(Y,{size:20,onClick:()=>c(r),style:{color:m===r?"red":"black",cursor:"pointer"},onMouseEnter:()=>T(r),onMouseLeave:b}),o(L,{targetId:r,children:[" Opcion # ",r+1]})]}),e(N,{accordionId:r,children:i.map((s,a)=>e(f,{children:o(y,{children:[e(x,{children:s.comida==1?"Desayuno":s.comida==2?"Almuerzo":s.comida==3?"Cena":s.comida==4?"Merienda":null}),e(C,{name:"descripcion",placeholder:"Ingrese la comida",type:"textarea",defaultValue:s==null?void 0:s.descripcion,onChange:g=>M(g,r,a)})]})},a))})]})})},r))})}function ee({planSeleccionado:p,dietas:h,setDietas:t}){const[u,v]=l.exports.useState("dieta"),c=(m,d)=>{v(d)};return l.exports.useEffect(()=>{async function m(){await O.get(`https://dietservice.bitjoins.pe/api/plan-alimentacion/dietas/web/${p==null?void 0:p.planalimentacion_id}`).then(d=>{t(d.data)})}m()},[]),e("div",{children:e(k,{sx:{width:"100%",typography:"body1"},children:o(F,{value:u,children:[e(k,{sx:{borderBottom:1,borderColor:"divider"},children:o(V,{onChange:c,"aria-label":"lab API tabs example",children:[e(D,{label:"Dieta",value:"dieta"}),e(D,{label:"Recomendaciones",value:"recomendaciones"}),e(D,{label:"Ejercicios",value:"ejercicios"}),e(D,{label:"Patologia",value:"patologia"})]})}),e(I,{value:"dieta",children:e(S,{dietas:h,setDietas:t})}),e(I,{value:"recomendaciones",children:"Item Two"}),e(I,{value:"ejercicios",children:"Item Three"}),e(I,{value:"patologia",children:"Item Three"})]})})})}function te({modal:p,toggle:h,filaSeleccionada:t,setFilaSeleccionada:u}){const{handleSubmit:v,control:c,reset:m}=X({}),[d,T]=l.exports.useState([]),[b,M]=l.exports.useState([]);function i(r){console.log(r),console.log(d)}return l.exports.useEffect(()=>{async function r(){await O.get("https://dietservice.bitjoins.pe/api/nutricionistas").then(s=>{M(s.data)})}r()},[]),console.log(b),console.log(t),e("div",{children:o(R,{isOpen:p,toggle:h,fullscreen:!0,scrollable:!0,children:[e(z,{toggle:()=>{h(),m(),u({})},children:"Modal title"}),e(G,{children:o("form",{onSubmit:v(i),children:[e(f,{children:e(w,{name:"fecha de inicio",control:c,render:({field:{value:r,...s}})=>o(y,{children:[e(x,{children:"Fecha"}),e(C,{placeholder:"Ingrese la fecha de inicio",type:"date",...s})]})})}),e(f,{children:e(w,{name:"plan",control:c,defaultValue:t==null?void 0:t.plan,render:({field:r})=>o(y,{children:[e(x,{children:"Plan"}),e(C,{placeholder:"Ingrese el nombre del plan",type:"text",...r})]})})}),o(f,{children:[e(W,{children:e(w,{name:"cliente",control:c,defaultValue:t==null?void 0:t.nutricionista_nombres,render:({field:r})=>o(y,{children:[e(x,{children:"Cliente"}),e(C,{placeholder:"Seleccione el cliente",type:"text",...r})]})})}),e(W,{children:e(w,{name:"nutricionista",control:c,defaultValue:t==null?void 0:t.nutricionista_id,render:({field:{onChange:r,value:s}})=>o(y,{children:[e(x,{children:"Nutricionista"}),o(C,{placeholder:"Seleccione el nutricionista",type:"select",onChange:a=>r(a.target.value),children:[e("option",{value:t==null?void 0:t.nutricionista_id,children:t==null?void 0:t.nutricionista_nombres}),b==null?void 0:b.map((a,g)=>e("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.nombres},g))]})]})})})]}),o(f,{children:[e(W,{children:e(w,{name:"tips",control:c,defaultValue:t==null?void 0:t.tips,render:({field:r})=>o(y,{children:[e(x,{children:"Tips"}),e(C,{placeholder:"Ingrese el tip",type:"textarea",...r})]})})}),e(W,{children:e(w,{name:"notas",control:c,defaultValue:t==null?void 0:t.notas,render:({field:r})=>o(y,{children:[e(x,{children:"Notas"}),e(C,{placeholder:"Ingresa las notas",type:"textarea",...r})]})})})]}),e(ee,{planSeleccionado:t,dietas:d,setDietas:T}),e(_,{color:"success",type:"submit",children:"Ok"}),e(_,{color:"secondary",onClick:()=>{h(),m(),u({})},children:"Cancel"})]})})]})})}function re({direction:p}){K.restore();const[h,t]=l.exports.useState("historico"),[u,v]=l.exports.useState([]),[c,m]=l.exports.useState(!0),[d,T]=l.exports.useState(!1),[b,M]=l.exports.useState(null),[i,r]=l.exports.useState({}),[s,a]=l.exports.useState(!1),g=()=>a(!s),j=n=>{b===n?T(!d):(T(!0),M(n))};l.exports.useEffect(()=>{async function n(){await O.get("https://dietservice.bitjoins.pe/api/plan_alimentacion").then(P=>{v(P.data)}),m(!1)}n()},[]);const $=(n,P)=>{t(P)},E=[{cell:n=>o(U,{isOpen:d&&b===n,toggle:()=>j(n),direction:p,children:[e(Z,{caret:!0,children:"Opciones"}),o(q,{children:[e(A,{children:"Detalle"}),e(A,{onClick:g,children:"Editar"}),e(A,{onClick:()=>{g(),r(n)},children:"Copiar"})]})]})},{name:"Item",selector:(n,P)=>P+1,center:!0,maxWidth:"2rem"},{name:"Plan",selector:n=>n.plan,minWidth:"12rem",sortable:!0},{name:"Estado",selector:n=>n.estado,minWidth:"12rem",sortable:!0},{name:"Cliente",selector:n=>`${n.nombre} ${n.apellido}`,minWidth:"12rem",sortable:!0},{name:"Usuario",selector:n=>n.email,minWidth:"12rem",sortable:!0},{name:"Distrito",selector:n=>n.estado,minWidth:"12rem",sortable:!0},{name:"Fecha",selector:n=>n.fecultimaact,minWidth:"12rem",sortable:!0},{name:"Nutricionista",selector:n=>n.nutricionista_nombres,minWidth:"12rem",sortable:!0},{name:"Contacto",selector:n=>n.contacto,minWidth:"12rem",sortable:!0}];return e("div",{children:e(l.exports.Fragment,{children:o(F,{value:h,children:[o(V,{onChange:$,"aria-label":"simple tabs example",children:[e(D,{value:"historico",label:"Historico"}),e(D,{value:"plan",label:"Plan"}),e(D,{value:"galeria",label:"Galeria"})]}),o(I,{value:"historico",children:[e(J,{columns:E,data:u,pagination:!0,noDataComponent:"No hay data",progressPending:c,progressComponent:e(Q,{children:"Loading..."})}),e(te,{modal:s,toggle:g,filaSeleccionada:i,setFilaSeleccionada:r})]}),e(I,{value:"plan"}),e(I,{value:"galeria"})]})})})}re.propTypes={direction:"down"};export{re as default};
