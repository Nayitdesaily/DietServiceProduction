import{j as e,o as i,au as P,bb as w,av as M,aa as v,cv as x,af as C,ag as y,$ as u,aj as b,r as c,ai as E}from"./index.9bfa15e9.js";import{Q as I}from"./index.es.637dc7e6.js";import{u as N,C as j}from"./index.esm.278f2081.js";import"./emotion-is-prop-valid.esm.22611268.js";import"./emotion-memoize.esm.06f0e458.js";function $({toggle:l,modal:h,patologiaSelec:r,setPatologiaSelec:a}){const{handleSubmit:f,control:m,reset:s}=N({defaultValues:{nombre:"",descripcion:""}});function g(o){r!=null?b.post(`https://dietservice.bitjoins.pe/api/actualizar-patologia/${r==null?void 0:r.id}`,r).then(t=>console.log(t.data)):b.post("https://dietservice.bitjoins.pe/api/crear-patologia-web-configuracion",o).then(t=>console.log(t.data)),l(),a(null),s()}function p(o){if(r!=null){let t=o.target.name;a(n=>({...n,[t]:o.target.value}))}}return e("div",{children:i(P,{isOpen:h,toggle:()=>{l(),s(),a(null)},scrollable:!0,children:[e(w,{toggle:()=>{l(),s(),a(null)},children:"Nueva Patologia"}),e(M,{children:i("form",{onSubmit:f(g),children:[e(v,{children:e(j,{name:"nombre",control:m,render:({field:{value:o,onChange:t,...n}})=>i(x,{children:[e(C,{children:"Nombre"}),e(y,{placeholder:"Ingrese el nombre de la categoria",type:"text",...n,defaultValue:r==null?void 0:r.nombre,onChange:d=>{t(d.target.value),p(d)}})]})})}),e(v,{children:e(j,{name:"descripcion",control:m,render:({field:{value:o,onChange:t,...n}})=>i(x,{children:[e(C,{children:"Descripcion"}),e(y,{placeholder:"Ingrese el nombre de la categoria",type:"textarea",...n,defaultValue:r==null?void 0:r.descripcion,onChange:d=>{t(d.target.value),p(d)}})]})})}),e(u,{color:"success",type:"submit",children:"Ok"}),e(u,{color:"secondary",children:"Cancel"})]})})]})})}function B(){const[l,h]=c.exports.useState(!0),r=()=>f(!a),[a,f]=c.exports.useState(!1),[m,s]=c.exports.useState(null),[g,p]=c.exports.useState([]);c.exports.useEffect(()=>{b.get("https://dietservice.bitjoins.pe/api/patologias").then(n=>{p(n.data),h(!1)})},[]);function o(n){r(),s(n)}return i("div",{children:[e(u,{onClick:r,color:"success",children:"Nuevo"}),e("br",{}),e("br",{}),e(I,{columns:[{name:"Id",selector:n=>n.id,width:"12rem",center:!0},{name:"Descripcion",selector:n=>n.nombre,width:"60rem",sortable:!0},{name:"Acciones",cell:n=>i("div",{style:{display:"flex",gap:"1rem"},children:[e(u,{onClick:()=>o(n),color:"warning",children:"Editar"}),e(u,{color:"danger",children:"Eliminar"})]}),center:!0,width:"20rem"},{}],data:g,pagination:!0,noDataComponent:"No hay data",progressPending:l,progressComponent:e(E,{children:"Loading..."})}),e($,{patologiaSelec:m,toggle:r,modal:a,setPatologiaSelec:s})]})}export{B as default};
