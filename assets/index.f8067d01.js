import{r as u,j as e,o as i,au as N,bb as V,av as T,aa as _,cv as y,af as b,ag as C,$ as w,aj as v,ai as I}from"./index.2e7c6896.js";import{Q as D}from"./index.es.da7a918d.js";import{u as M,C as x}from"./index.esm.39a3fe79.js";import{a0 as A,T as L}from"./App.0da860c4.js";import{B as R}from"./Box.bee6710c.js";import{T as z,a as E,b as P,c as k}from"./Tab.f3981db5.js";import"./emotion-is-prop-valid.esm.22611268.js";import"./emotion-memoize.esm.06f0e458.js";import"./emotion-react.browser.esm.a7ef787d.js";import"./TransitionGroup.3c47dc83.js";function $({toggle:s,modal:f,categoriaSelec:t,setCategoriaSelec:l}){const{handleSubmit:d,control:m,reset:c}=M({defaultValues:{category_title:""}}),[p,g]=u.exports.useState(null);function h(r){new FormData().append("imagen",p),console.log(r),t!=null?v.put(`https://dietservice.bitjoins.pe/api/categorias/actualizar/${t==null?void 0:t.category_id}`,t).then(n=>console.log(n.data.message)):v.post("https://dietservice.bitjoins.pe/api/categorias/crear",r,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>console.log(n.data.message)),s(),l(null),c()}function o(r){if(t!=null){let a=r.target.name;l(n=>({...n,[a]:r.target.value}))}}return e("div",{children:i(N,{isOpen:f,toggle:()=>{s(),c(),l(null)},scrollable:!0,children:[e(V,{toggle:()=>{s(),c(),l(null)},children:"Nueva Categoria"}),e(T,{children:i("form",{onSubmit:d(h),children:[e(_,{children:e(x,{name:"category_title",control:m,render:({field:{value:r,onChange:a,...n}})=>i(y,{children:[e(b,{children:"Nombre"}),e(C,{placeholder:"Ingrese el nombre de la categoria",type:"text",...n,defaultValue:t==null?void 0:t.category_title,onChange:j=>{a(j.target.value),o(j)}})]})})}),e(_,{children:e(x,{name:"category_image",control:m,render:({field:{value:r,onChange:a,...n}})=>i(y,{children:[e(b,{children:"Imagen"}),e(C,{placeholder:"Seleccione el destacado",type:"file",...n,defaultValue:t==null?void 0:t.category_image,onChange:j=>{a(j.target.files[0]),o(j)}})]})})}),e(w,{color:"success",type:"submit",children:"Ok"}),e(w,{color:"secondary",children:"Cancel"})]})})]})})}function O(){const[s,f]=u.exports.useState([]),[t,l]=u.exports.useState(!0),d=()=>c(!m),[m,c]=u.exports.useState(!1),[p,g]=u.exports.useState(null);u.exports.useEffect(()=>{v.get("https://dietservice.bitjoins.pe/api/categorias").then(r=>{f(r.data.data),l(!1)})},[]);function h(r){d(),g(r)}const o=[{name:"Id",selector:(r,a)=>r.category_id,width:"6rem"},{name:"Imagen",selector:r=>e("img",{src:`https://intranet.dietservice.pe/appdiet/images/${r.category_image}`,alt:"",style:{width:"4rem",height:"3rem",objectFit:"cover"}}),width:"20rem",sortable:!0,center:!0},{name:"Titulo",selector:r=>r.category_title,width:"50rem",sortable:!0},{name:"Acciones",cell:r=>i("div",{children:[e(A,{onClick:()=>h(r),color:"gray",style:{cursor:"pointer"}}),e(L,{color:"gray",style:{cursor:"pointer"}})]}),center:!0,width:"8rem"},{}];return e("div",{children:t==!1?i("div",{children:[e(w,{onClick:d,color:"success",children:"Nuevo"}),e(D,{columns:o,data:s,pagination:!0,noDataComponent:"No hay data",progressPending:t,progressComponent:e(I,{children:"Loading..."})}),e($,{toggle:d,modal:m,categoriaSelec:p,setCategoriaSelec:g,categorias:s})]}):e(I,{children:"Loading..."})})}function F({toggle:s,modal:f,restauranteSelec:t,setRestauranteSelec:l,categorias:d}){const{handleSubmit:m,control:c,reset:p}=M({defaultValues:{chef_title:"",chef_image:"",chef_category:""}});function g(o){t!=null?v.put(`https://dietservice.bitjoins.pe/api/chefs/actualizar/${t==null?void 0:t.chef_id}`,t).then(r=>console.log(r.data.message)):v.post("https://dietservice.bitjoins.pe/api/chefs/crear",o).then(r=>console.log(r.data.message)),s(),l(null),p()}function h(o){if(t!=null){let r=o.target.name;l(a=>({...a,[r]:o.target.value}))}}return console.log(d),e("div",{children:i(N,{isOpen:f,toggle:()=>{s(),p(),l(null)},scrollable:!0,children:[e(V,{toggle:()=>{s(),p(),l(null)},children:"Nuevo Restaurante"}),e(T,{children:i("form",{onSubmit:m(g),children:[e(_,{children:e(x,{name:"chef_title",control:c,render:({field:{value:o,onChange:r,...a}})=>i(y,{children:[e(b,{children:"Nombre"}),e(C,{placeholder:"Ingrese el nombre de la categoria",type:"text",...a,defaultValue:t==null?void 0:t.chef_title,onChange:n=>{r(n.target.value),h(n)}})]})})}),e(_,{children:e(x,{name:"chef_category",control:c,render:({field:{value:o,onChange:r,...a}})=>i(y,{children:[e(b,{children:"Categoria"}),i(C,{placeholder:"Ingrese el nombre de la categoria",type:"select",...a,defaultValue:t==null?void 0:t.chef_category,onChange:n=>{r(n.target.value),h(n)},children:[e("option",{value:t!=null&&t.chef_category?t.chef_category:"",children:t!=null&&t.chef_category?t.category_title:"Seleccione la categoria"}),d.map(n=>e("option",{value:n.category_id,children:n.category_title}))]})]})})}),e(w,{color:"success",type:"submit",children:"Ok"}),e(w,{color:"secondary",children:"Cancel"})]})})]})})}function B(){const[s,f]=u.exports.useState([]),[t,l]=u.exports.useState(!0),d=()=>c(!m),[m,c]=u.exports.useState(!1),[p,g]=u.exports.useState(null),[h,o]=u.exports.useState([]);u.exports.useEffect(()=>{v.get("https://dietservice.bitjoins.pe/api/chefs").then(n=>{f(n.data.data),l(!1)}),v.get("https://dietservice.bitjoins.pe/api/categorias-chef").then(n=>o(n.data.data))},[]);function r(n){d(),g(n)}const a=[{name:"Id",selector:n=>n.chef_id,width:"6rem"},{name:"Imagen",selector:n=>n.chef_image,width:"10rem",sortable:!0},{name:"Nombre",selector:n=>n.chef_title,width:"10rem",sortable:!0},{name:"Categoria",selector:n=>n.category_title,width:"10rem",sortable:!0},{name:"Acciones",cell:n=>i("div",{children:[e(A,{onClick:()=>r(n),color:"gray",style:{cursor:"pointer"}}),e(L,{color:"gray",style:{cursor:"pointer"}})]}),center:!0,width:"8rem"},{}];return e("div",{children:t==!1?i("div",{children:[e(w,{onClick:d,color:"success",children:"Nuevo"}),e(D,{columns:a,data:s,pagination:!0,noDataComponent:"No hay data",progressPending:t,progressComponent:e(I,{children:"Loading..."})}),e(F,{toggle:d,modal:m,restauranteSelec:p,setRestauranteSelec:g,categorias:h})]}):e(I,{children:"Loading..."})})}function Q({toggle:s,modal:f,categoriaSelec:t,setCategoriaSelec:l}){const{handleSubmit:d,control:m,reset:c}=M({defaultValues:{category_title:""}});function p(o){t!=null?v.post(`https://dietservice.bitjoins.pe/api/categorias-chef/actualizar/${t==null?void 0:t.category_id}`,t,{headers:{"Content-Type":"multipart/form-data"}}).then(r=>console.log(r.data)):v.post("https://dietservice.bitjoins.pe/api/categorias-chef/crear",o,{headers:{"Content-Type":"multipart/form-data"}}).then(r=>console.log(r.data.message)),s(),l(null),c()}function g(o){if(t!=null){let r=o.target.name;l(a=>({...a,[r]:o.target.value}))}}function h(o){if(t!=null){let r=o.target.name;l(a=>({...a,[r]:o.target.files[0]}))}}return console.log(t),e("div",{children:i(N,{isOpen:f,toggle:()=>{s(),c(),l(null)},scrollable:!0,children:[e(V,{toggle:()=>{s(),c(),l(null)},children:"Nueva Categoria"}),e(T,{children:i("form",{onSubmit:d(p),children:[e(_,{children:e(x,{name:"category_title",control:m,render:({field:{value:o,onChange:r,...a}})=>i(y,{children:[e(b,{children:"Nombre"}),e(C,{placeholder:"Ingrese el nombre de la categoria",type:"text",...a,defaultValue:t==null?void 0:t.category_title,onChange:n=>{r(n.target.value),g(n)}})]})})}),e(_,{children:e(x,{name:"category_image",control:m,render:({field:{value:o,onChange:r,...a}})=>i(y,{children:[e(b,{children:"Imagen"}),e(C,{placeholder:"Seleccione la imagen",type:"file",...a,onChange:n=>{r(n.target.files[0]),h(n)}})]})})}),e(w,{color:"success",type:"submit",children:"Ok"}),e(w,{color:"secondary",children:"Cancel"})]})})]})})}function G(){const[s,f]=u.exports.useState([]),[t,l]=u.exports.useState(!0),d=()=>c(!m),[m,c]=u.exports.useState(!1),[p,g]=u.exports.useState(null);u.exports.useEffect(()=>{v.get("https://dietservice.bitjoins.pe/api/categorias-chef").then(r=>{f(r.data.data),l(!1)})},[]);function h(r){d(),g(r)}const o=[{name:"Id",selector:r=>r.category_id,width:"6rem"},{name:"Image",selector:r=>e("img",{src:`https://intranet.dietservice.pe/appdiet/images/${r.category_image}`,alt:"",style:{width:"4rem",height:"3rem",objectFit:"cover"}}),width:"20rem",sortable:!0},{name:"Titulo",selector:r=>r.category_title,width:"50rem",sortable:!0},{name:"Acciones",cell:r=>i("div",{children:[e(A,{onClick:()=>h(r),color:"gray",style:{cursor:"pointer"}}),e(L,{color:"gray",style:{cursor:"pointer"}})]}),center:!0,width:"8rem"},{}];return e("div",{children:t==!1?i("div",{children:[e(w,{onClick:d,color:"success",children:"Nuevo"}),e(D,{columns:o,data:s,pagination:!0,noDataComponent:"No hay data",progressPending:t,progressComponent:e(I,{children:"Loading..."})}),e(Q,{toggle:d,modal:m,categoriaSelec:p,setCategoriaSelec:g})]}):e(I,{children:"Loading..."})})}function H({toggle:s,modal:f,platoSelec:t,setPlatoSelec:l,restaurantes:d}){const{handleSubmit:m,control:c,reset:p}=M({defaultValues:{plate_title:"",plate_restaurant:"",plate_description:"",plate_type_food:"",plate_portion:"",plate_counter_like:"",plate_status:""}});function g(o){t!=null?v.put(`https://dietservice.bitjoins.pe/api/categorias/actualizar/${t==null?void 0:t.plate_id}`,t).then(r=>console.log(r.data.message)):v.post("https://dietservice.bitjoins.pe/api/platos/create",o).then(r=>console.log(r.data.message)),s(),l(null),p()}function h(o){if(t!=null){let r=o.target.name;l(a=>({...a,[r]:o.target.value}))}}return e("div",{children:i(N,{isOpen:f,toggle:()=>{s(),p(),l(null)},scrollable:!0,children:[e(V,{toggle:()=>{s(),p(),l(null)},children:"Nuevo Plato"}),e(T,{children:i("form",{onSubmit:m(g),children:[e(_,{children:e(x,{name:"plate_title",control:c,render:({field:{value:o,onChange:r,...a}})=>i(y,{children:[e(b,{children:"Nombre"}),e(C,{placeholder:"Ingrese el nombre",type:"text",...a,defaultValue:t==null?void 0:t.plate_title,onChange:n=>{r(n.target.value),h(n)}})]})})}),e(_,{children:e(x,{name:"plate_restaurant",control:c,render:({field:{value:o,onChange:r,...a}})=>i(y,{children:[e(b,{children:"Nombre"}),i(C,{placeholder:"Seleccione el restaurante",type:"select",...a,defaultValue:t==null?void 0:t.plate_restaurant,onChange:n=>{r(n.target.value),h(n)},children:[e("option",{value:t!=null&&t.plate_restaurant?t.plate_restaurant:"",children:t!=null&&t.plate_restaurant?t.chef_title:"Seleccione el restaurante"}),d.map(n=>e("option",{value:n.chef_id,children:n.chef_title}))]})]})})}),e(_,{children:e(x,{name:"plate_description",control:c,render:({field:{value:o,onChange:r,...a}})=>i(y,{children:[e(b,{children:"Descripcion"}),e(C,{placeholder:"Ingrese la descripcion",type:"textarea",...a,defaultValue:t==null?void 0:t.plate_description,onChange:n=>{r(n.target.value),h(n)}})]})})}),e(_,{children:e(x,{name:"plate_type_food",control:c,render:({field:{value:o,onChange:r,...a}})=>i(y,{children:[e(b,{children:"Tipo de comida"}),i(C,{placeholder:"Seleccione el restaurante",type:"select",...a,defaultValue:t==null?void 0:t.plate_type_food,onChange:n=>{r(n.target.value),h(n)},children:[e("option",{value:t!=null&&t.plate_type_food?t.plate_type_food:"",children:t!=null&&t.plate_type_food?t.plate_type_food:"Selecciona el tipo de comida"}),e("option",{value:"Desayuno",children:"Desayuno"}),e("option",{value:"Almuerzo",children:"Almuerzo"}),e("option",{value:"Merienda",children:"Merienda"}),e("option",{value:"Cena",children:"Cena"})]})]})})}),e(_,{children:e(x,{name:"plate_portion",control:c,render:({field:{value:o,onChange:r,...a}})=>i(y,{children:[e(b,{children:"Porcion"}),e(C,{placeholder:"Ingrese la porcion",type:"textarea",...a,defaultValue:t==null?void 0:t.plate_portion,onChange:n=>{r(n.target.value),h(n)}})]})})}),e(_,{children:e(x,{name:"plate_counter_like",control:c,render:({field:{value:o,onChange:r,...a}})=>i(y,{children:[e(b,{children:"Likes"}),e(C,{placeholder:"Ingrese la porcion",type:"number",...a,defaultValue:t!=null&&t.plate_counter_like?t==null?void 0:t.plate_counter_like:0,onChange:n=>{r(n.target.value),h(n)}})]})})}),e(_,{children:e(x,{name:"plate_status",control:c,render:({field:{value:o,onChange:r,...a}})=>i(y,{children:[e(b,{children:"Tipo de comida"}),i(C,{placeholder:"Seleccione el restaurante",type:"select",...a,defaultValue:t==null?void 0:t.plate_status,onChange:n=>{r(n.target.value),h(n)},children:[e("option",{value:"Draft",children:"Draft"}),e("option",{value:"Publish",children:"Publish"})]})]})})}),e(w,{color:"success",type:"submit",children:"Ok"}),e(w,{color:"secondary",children:"Cancel"})]})})]})})}function q(){const[s,f]=u.exports.useState([]),[t,l]=u.exports.useState(!0),d=()=>c(!m),[m,c]=u.exports.useState(!1),[p,g]=u.exports.useState(null),[h,o]=u.exports.useState([]);u.exports.useEffect(()=>{v.get("https://dietservice.bitjoins.pe/api/chefs").then(n=>{f(n.data.data),l(!1)}),v.get("https://dietservice.bitjoins.pe/api/platos-web").then(n=>o(n.data.data))},[]);function r(n){d(),g(n)}const a=[{name:"Id",selector:n=>n.plate_id,width:"6rem"},{name:"Imagen",selector:n=>n.plate_image,width:"10rem",sortable:!0},{name:"Titulo",selector:n=>n.plate_title,width:"10rem",sortable:!0},{name:"Restaurante",selector:n=>n.plate_restaurant,width:"10rem",sortable:!0},{name:"Tipo de comida",selector:n=>n.plate_type_food,width:"10rem",sortable:!0},{name:"Porcion",selector:n=>n.plate_portion,width:"10rem",sortable:!0},{name:"Like",selector:n=>n.plate_counter_like,width:"10rem",sortable:!0},{name:"Status",selector:n=>n.plate_status,width:"10rem",sortable:!0},{name:"Acciones",cell:n=>i("div",{children:[e(A,{onClick:()=>r(n),color:"gray",style:{cursor:"pointer"}}),e(L,{color:"gray",style:{cursor:"pointer"}})]}),center:!0,width:"8rem"},{}];return e("div",{children:t==!1?i("div",{children:[e(w,{onClick:d,color:"success",children:"Nuevo"}),e(D,{columns:a,data:h,pagination:!0,noDataComponent:"No hay data",progressPending:t,progressComponent:e(I,{children:"Loading..."})}),e(H,{toggle:d,modal:m,platoSelec:p,setPlatoSelec:g,restaurantes:s})]}):e(I,{children:"Loading..."})})}function ne(){const[s,f]=u.exports.useState("1");return e(R,{sx:{width:"100%"},children:i(z,{value:s,children:[e(R,{sx:{borderBottom:1,borderColor:"divider"},children:i(E,{onChange:(l,d)=>{f(d)},"aria-label":"lab API tabs example",children:[e(P,{label:"Categorias",value:"1"}),e(P,{label:"Restaurantes",value:"2"}),e(P,{label:"Cat. Restaurante",value:"3"}),e(P,{label:"Platos",value:"4"})]})}),e(k,{value:"1",children:e(O,{})}),e(k,{value:"2",children:e(B,{})}),e(k,{value:"3",children:e(G,{})}),e(k,{value:"4",children:e(q,{})})]})})}export{ne as default};
