import{r as d,j as e,o as s,au as M,bb as R,av as $,aa as j,cv as T,af as I,ag as w,$ as L,aj as m,ai as N}from"./index.30301496.js";import{Q as A}from"./index.es.6151ffaa.js";import{u as F,C as k}from"./index.esm.c2f7552f.js";import{a0 as z,T as B}from"./App.58188f50.js";import{B as Q}from"./Box.3152861b.js";import{T as G,a as q,b as V,c as D}from"./Tab.947c8b76.js";import"./emotion-is-prop-valid.esm.22611268.js";import"./emotion-memoize.esm.06f0e458.js";import"./emotion-react.browser.esm.81023f96.js";import"./TransitionGroup.152774b2.js";function J({toggle:h,modal:g,categoriaSelec:t,setCategoriaSelec:c,setCategorias:p,setData:v}){const{handleSubmit:b,control:C,reset:f}=F({defaultValues:{category_title:""}});d.exports.useState(null);async function y(l){t!=null?(await m.post(`https://dietservice.bitjoins.pe/api/categorias/actualizar/${t==null?void 0:t.category_id}`,t,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>console.log(a.data.message)),await m.get("https://dietservice.bitjoins.pe/api/categorias").then(a=>{p(a.data.data),v(a.data.data)})):(await m.post("https://dietservice.bitjoins.pe/api/categorias/crear",l,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>console.log(a.data.message)),await m.get("https://dietservice.bitjoins.pe/api/categorias").then(a=>{p(a.data.data),v(a.data.data)})),h(),c(null),f()}function _(l){if(t!=null){let a=l.target.name;c(i=>({...i,[a]:a=="category_image"?l.target.files[0]:l.target.value}))}}return e("div",{children:s(M,{isOpen:g,toggle:()=>{h(),f(),c(null)},scrollable:!0,children:[e(R,{toggle:()=>{h(),f(),c(null)},children:"Nueva Categoria"}),e($,{children:s("form",{onSubmit:b(y),children:[e(j,{children:e(k,{name:"category_title",control:C,render:({field:{value:l,onChange:a,...i}})=>s(T,{children:[e(I,{children:"Nombre"}),e(w,{placeholder:"Ingrese el nombre de la categoria",type:"text",...i,defaultValue:t==null?void 0:t.category_title,onChange:n=>{a(n.target.value),_(n)}})]})})}),e(j,{children:e(k,{name:"category_image",control:C,render:({field:{value:l,onChange:a,...i}})=>s(T,{children:[e(I,{children:"Imagen"}),e(w,{placeholder:"Seleccione el destacado",type:"file",...i,onChange:n=>{a(n.target.files[0]),_(n)}})]})})}),e(L,{color:"success",type:"submit",children:"Ok"}),e(L,{color:"secondary",children:"Cancel"})]})})]})})}function K(){const[h,g]=d.exports.useState([]),[t,c]=d.exports.useState(!0),p=()=>b(!v),[v,b]=d.exports.useState(!1),[C,f]=d.exports.useState(null),[y,_]=d.exports.useState([]),[l,a]=d.exports.useState("");d.exports.useEffect(()=>{m.get("https://dietservice.bitjoins.pe/api/categorias").then(r=>{g(r.data.data),c(!1),_(r.data.data)})},[]);function i(r){p(),f(r)}async function n(r){await m.delete(`https://dietservice.bitjoins.pe/api/categorias/${r}`).then(o=>console.log(o.data.message)),await m.get("https://dietservice.bitjoins.pe/api/categorias").then(o=>{g(o.data.data),_(o.data.data)})}const x=[{name:"Acciones",cell:r=>s("div",{children:[e(z,{onClick:()=>i(r),color:"gray",style:{cursor:"pointer"}}),e(B,{onClick:()=>n(r.category_id),color:"gray",style:{cursor:"pointer"}})]}),center:!0,width:"8rem"},{name:"Id",selector:(r,o)=>r.category_id,width:"6rem"},{name:"Imagen",selector:r=>e("img",{src:`https://intranet.dietservice.pe/appdiet/images/${r.category_image}`,alt:"",style:{width:"4rem",height:"3rem",objectFit:"cover"}}),width:"20rem",sortable:!0,center:!0},{name:"Titulo",selector:r=>r.category_title,width:"50rem",sortable:!0}];function E(r){return r.filter(o=>o.category_title.toLowerCase().includes(l))}return d.exports.useEffect(()=>{let r=E(y);g(r)},[l]),e("div",{children:t==!1?s("div",{children:[s("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e(L,{onClick:p,color:"success",children:"Nuevo"}),s("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"1rem"},children:[e("p",{style:{padding:0,margin:0},children:"Buscar:"}),e(w,{type:"text",style:{width:"25rem"},onChange:r=>a(r.target.value)})]})]}),e("br",{}),e(A,{columns:x,data:h,pagination:!0,noDataComponent:"No hay data",progressPending:t,progressComponent:e(N,{children:"Loading..."})}),e(J,{toggle:p,modal:v,categoriaSelec:C,setCategoriaSelec:f,categorias:h,setCategorias:g,setData:_})]}):e(N,{children:"Loading..."})})}function U({toggle:h,modal:g,restauranteSelec:t,setRestauranteSelec:c,categorias:p,setRestaurantes:v,setData:b}){const{handleSubmit:C,control:f,reset:y}=F({defaultValues:{chef_title:"",chef_image:"",chef_category:""}});async function _(a){t!=null?(await m.post(`https://dietservice.bitjoins.pe/api/chefs/actualizar/${t==null?void 0:t.chef_id}`,t,{headers:{"Content-Type":"multipart/form-data"}}).then(i=>console.log(i.data.message)),await m.get("https://dietservice.bitjoins.pe/api/chefs").then(i=>{v(i.data.data),b(i.data.data)})):(await m.post("https://dietservice.bitjoins.pe/api/chefs/crear",a,{headers:{"Content-Type":"multipart/form-data"}}).then(i=>console.log(i.data.message)),await m.get("https://dietservice.bitjoins.pe/api/chefs").then(i=>{v(i.data.data),b(i.data.data)})),h(),c(null),y()}function l(a){if(t!=null){let i=a.target.name;c(n=>({...n,[i]:i=="chef_image"?a.target.files[0]:a.target.value}))}}return e("div",{children:s(M,{isOpen:g,toggle:()=>{h(),y(),c(null)},scrollable:!0,children:[e(R,{toggle:()=>{h(),y(),c(null)},children:"Nuevo Restaurante"}),e($,{children:s("form",{onSubmit:C(_),children:[e(j,{children:e(k,{name:"chef_title",control:f,render:({field:{value:a,onChange:i,...n}})=>s(T,{children:[e(I,{children:"Nombre"}),e(w,{placeholder:"Ingrese el nombre de la categoria",type:"text",...n,defaultValue:t==null?void 0:t.chef_title,onChange:x=>{i(x.target.value),l(x)}})]})})}),e(j,{children:e(k,{name:"chef_category",control:f,render:({field:{value:a,onChange:i,...n}})=>s(T,{children:[e(I,{children:"Categoria"}),s(w,{placeholder:"Ingrese el nombre de la categoria",type:"select",...n,defaultValue:t==null?void 0:t.chef_category,onChange:x=>{i(x.target.value),l(x)},children:[e("option",{value:t!=null&&t.chef_category?t.chef_category:"",children:t!=null&&t.chef_category?t.category_title:"Seleccione la categoria"}),p.map(x=>e("option",{value:x.category_id,children:x.category_title}))]})]})})}),e(j,{children:e(k,{name:"chef_image",control:f,render:({field:{value:a,onChange:i,...n}})=>s(T,{children:[e(I,{children:"Imagen"}),e(w,{placeholder:"Seleccione el destacado",type:"file",...n,onChange:x=>{i(x.target.files[0]),l(x)}})]})})}),e(L,{color:"success",type:"submit",children:"Ok"}),e(L,{color:"secondary",children:"Cancel"})]})})]})})}function W(){const[h,g]=d.exports.useState([]),[t,c]=d.exports.useState(!0),p=()=>b(!v),[v,b]=d.exports.useState(!1),[C,f]=d.exports.useState(null),[y,_]=d.exports.useState([]),[l,a]=d.exports.useState([]),[i,n]=d.exports.useState("");d.exports.useEffect(()=>{m.get("https://dietservice.bitjoins.pe/api/chefs").then(u=>{g(u.data.data),c(!1),a(u.data.data)}),m.get("https://dietservice.bitjoins.pe/api/categorias-chef").then(u=>_(u.data.data))},[]);function x(u){p(),f(u)}async function E(u){await m.delete(`https://dietservice.bitjoins.pe/api/chefs/eliminar/${u}`).then(P=>console.log(P.data.message)),await m.get("https://dietservice.bitjoins.pe/api/chefs").then(P=>{g(P.data.data),c(!1),a(P.data.data)})}const r=[{name:"Acciones",cell:u=>s("div",{children:[e(z,{onClick:()=>x(u),color:"gray",style:{cursor:"pointer"}}),e(B,{onClick:()=>E(u.chef_id),color:"gray",style:{cursor:"pointer"}})]}),center:!0,width:"8rem"},{name:"Id",selector:u=>u.chef_id,width:"6rem"},{name:"Imagen",selector:u=>e("img",{src:`https://intranet.dietservice.pe/appdiet/images/${u.chef_image}`,alt:"",style:{width:"4rem",height:"3rem",objectFit:"cover"}}),width:"10rem",sortable:!0},{name:"Nombre",selector:u=>u.chef_title,width:"10rem",sortable:!0},{name:"Categoria",selector:u=>u.category_title,width:"10rem",sortable:!0}];function o(u){return u.filter(P=>P.chef_title.toLowerCase().includes(i)||P.category_title.toLowerCase().includes(i))}return d.exports.useEffect(()=>{let u=o(l);g(u)},[i]),e("div",{children:t==!1?s("div",{children:[s("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e(L,{onClick:p,color:"success",children:"Nuevo"}),s("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"1rem"},children:[e("p",{style:{padding:0,margin:0},children:"Buscar:"}),e(w,{type:"text",style:{width:"25rem"},onChange:u=>n(u.target.value)})]})]}),e("br",{}),e(A,{columns:r,data:h,pagination:!0,noDataComponent:"No hay data",progressPending:t,progressComponent:e(N,{children:"Loading..."})}),e(U,{toggle:p,modal:v,restauranteSelec:C,setRestauranteSelec:f,categorias:y,setRestaurantes:g,setData:a})]}):e(N,{children:"Loading..."})})}function X({toggle:h,modal:g,categoriaSelec:t,setCategoriaSelec:c,setData:p,setCategorias:v}){const{handleSubmit:b,control:C,reset:f}=F({defaultValues:{category_title:""}});async function y(l){t!=null?(await m.post(`https://dietservice.bitjoins.pe/api/categorias-chef/actualizar/${t==null?void 0:t.category_id}`,t,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>console.log(a.data)),await m.get("https://dietservice.bitjoins.pe/api/categorias-chef").then(a=>{v(a.data.data),p(a.data.data)})):(await m.post("https://dietservice.bitjoins.pe/api/categorias-chef/crear",l,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>console.log(a.data.message)),await m.get("https://dietservice.bitjoins.pe/api/categorias-chef").then(a=>{v(a.data.data),p(a.data.data)})),h(),c(null),f()}function _(l){if(t!=null){let a=l.target.name;c(i=>({...i,[a]:a=="category_image"?l.target.files[0]:l.target.value}))}}return console.log(t),e("div",{children:s(M,{isOpen:g,toggle:()=>{h(),f(),c(null)},scrollable:!0,children:[e(R,{toggle:()=>{h(),f(),c(null)},children:"Nueva Categoria"}),e($,{children:s("form",{onSubmit:b(y),children:[e(j,{children:e(k,{name:"category_title",control:C,render:({field:{value:l,onChange:a,...i}})=>s(T,{children:[e(I,{children:"Nombre"}),e(w,{placeholder:"Ingrese el nombre de la categoria",type:"text",...i,defaultValue:t==null?void 0:t.category_title,onChange:n=>{a(n.target.value),_(n)}})]})})}),e(j,{children:e(k,{name:"category_image",control:C,render:({field:{value:l,onChange:a,...i}})=>s(T,{children:[e(I,{children:"Imagen"}),e(w,{placeholder:"Seleccione la imagen",type:"file",...i,onChange:n=>{a(n.target.files[0]),_(n)}})]})})}),e(L,{color:"success",type:"submit",children:"Ok"}),e(L,{color:"secondary",children:"Cancel"})]})})]})})}function Y(){const[h,g]=d.exports.useState([]),[t,c]=d.exports.useState(!0),p=()=>b(!v),[v,b]=d.exports.useState(!1),[C,f]=d.exports.useState(null),[y,_]=d.exports.useState([]),[l,a]=d.exports.useState("");d.exports.useEffect(()=>{m.get("https://dietservice.bitjoins.pe/api/categorias-chef").then(r=>{g(r.data.data),c(!1),_(r.data.data)})},[]);function i(r){p(),f(r)}async function n(r){await m.delete(`https://dietservice.bitjoins.pe/api/categorias-chef/eliminar/${r}`).then(o=>console.log(o.data.message)),await m.get("https://dietservice.bitjoins.pe/api/categorias-chef").then(o=>{g(o.data.data),_(o.data.data)})}console.log(h);const x=[{name:"Acciones",cell:r=>s("div",{children:[e(z,{onClick:()=>i(r),color:"gray",style:{cursor:"pointer"}}),e(B,{onClick:()=>n(r.category_id),color:"gray",style:{cursor:"pointer"}})]}),center:!0,width:"8rem"},{name:"Id",selector:r=>r.category_id,width:"6rem"},{name:"Image",selector:r=>e("img",{src:`https://intranet.dietservice.pe/appdiet/images/${r.category_image}`,alt:"",style:{width:"4rem",height:"3rem",objectFit:"cover"}}),width:"20rem",sortable:!0},{name:"Titulo",selector:r=>r.category_title,width:"50rem",sortable:!0}];function E(r){return r.filter(o=>o.category_title.toLowerCase().includes(l))}return d.exports.useEffect(()=>{let r=E(y);g(r)},[l]),e("div",{children:t==!1?s("div",{children:[s("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e(L,{onClick:p,color:"success",children:"Nuevo"}),s("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"1rem"},children:[e("p",{style:{padding:0,margin:0},children:"Buscar:"}),e(w,{type:"text",style:{width:"25rem"},onChange:r=>a(r.target.value)})]})]}),e("br",{}),e(A,{columns:x,data:h,pagination:!0,noDataComponent:"No hay data",progressPending:t,progressComponent:e(N,{children:"Loading..."})}),e(X,{toggle:p,modal:v,categoriaSelec:C,setCategoriaSelec:f,setCategorias:g,setData:_})]}):e(N,{children:"Loading..."})})}function Z({toggle:h,modal:g,platoSelec:t,setPlatoSelec:c,restaurantes:p}){const{handleSubmit:v,control:b,reset:C}=F({defaultValues:{plate_title:"",plate_restaurant:"",plate_description:"",plate_type_food:"",plate_portion:"",plate_counter_like:"",plate_status:""}});function f(l){t!=null?m.put(`https://dietservice.bitjoins.pe/api/categorias/actualizar/${t==null?void 0:t.plate_id}`,t).then(a=>console.log(a.data.message)):m.post("https://dietservice.bitjoins.pe/api/platos/create",l).then(a=>console.log(a.data.message)),h(),c(null),C()}function y(l){if(t!=null){let a=l.target.name;c(i=>({...i,[a]:l.target.value}))}}const _=l=>new DOMParser().parseFromString(l,"text/html").body.textContent.replace(/(<([^>]+)>)/ig,"").replace(/ml/g,"").replace(/&nbsp;/g,"");return e("div",{children:s(M,{isOpen:g,toggle:()=>{h(),C(),c(null)},scrollable:!0,children:[e(R,{toggle:()=>{h(),C(),c(null)},children:"Nuevo Plato"}),e($,{children:s("form",{onSubmit:v(f),children:[e(j,{children:e(k,{name:"plate_title",control:b,render:({field:{value:l,onChange:a,...i}})=>s(T,{children:[e(I,{children:"Nombre"}),e(w,{placeholder:"Ingrese el nombre",type:"text",...i,defaultValue:t==null?void 0:t.plate_title,onChange:n=>{a(n.target.value),y(n)}})]})})}),e(j,{children:e(k,{name:"plate_restaurant",control:b,render:({field:{value:l,onChange:a,...i}})=>s(T,{children:[e(I,{children:"Nombre"}),s(w,{placeholder:"Seleccione el restaurante",type:"select",...i,defaultValue:t==null?void 0:t.plate_restaurant,onChange:n=>{a(n.target.value),y(n)},children:[e("option",{value:t!=null&&t.plate_restaurant?t.plate_restaurant:"",children:t!=null&&t.plate_restaurant?t.chef_title:"Seleccione el restaurante"}),p.map(n=>e("option",{value:n.chef_id,children:n.chef_title}))]})]})})}),e(j,{children:e(k,{name:"plate_description",control:b,render:({field:{value:l,onChange:a,...i}})=>s(T,{children:[e(I,{children:"Descripcion"}),e(w,{placeholder:"Ingrese la descripcion",type:"textarea",...i,defaultValue:_(t==null?void 0:t.plate_description),onChange:n=>{a(n.target.value),y(n)}})]})})}),e(j,{children:e(k,{name:"plate_type_food",control:b,render:({field:{value:l,onChange:a,...i}})=>s(T,{children:[e(I,{children:"Tipo de comida"}),s(w,{placeholder:"Seleccione el restaurante",type:"select",...i,defaultValue:t==null?void 0:t.plate_type_food,onChange:n=>{a(n.target.value),y(n)},children:[e("option",{value:t!=null&&t.plate_type_food?t.plate_type_food:"",children:t!=null&&t.plate_type_food?t.plate_type_food:"Selecciona el tipo de comida"}),e("option",{value:"Desayuno",children:"Desayuno"}),e("option",{value:"Almuerzo",children:"Almuerzo"}),e("option",{value:"Merienda",children:"Merienda"}),e("option",{value:"Cena",children:"Cena"})]})]})})}),e(j,{children:e(k,{name:"plate_portion",control:b,render:({field:{value:l,onChange:a,...i}})=>s(T,{children:[e(I,{children:"Porcion"}),e(w,{placeholder:"Ingrese la porcion",type:"textarea",...i,defaultValue:t==null?void 0:t.plate_portion,onChange:n=>{a(n.target.value),y(n)}})]})})}),e(j,{children:e(k,{name:"plate_counter_like",control:b,render:({field:{value:l,onChange:a,...i}})=>s(T,{children:[e(I,{children:"Likes"}),e(w,{placeholder:"Ingrese la porcion",type:"number",...i,defaultValue:t!=null&&t.plate_counter_like?t==null?void 0:t.plate_counter_like:0,onChange:n=>{a(n.target.value),y(n)}})]})})}),e(j,{children:e(k,{name:"plate_status",control:b,render:({field:{value:l,onChange:a,...i}})=>s(T,{children:[e(I,{children:"Tipo de comida"}),s(w,{placeholder:"Seleccione el restaurante",type:"select",...i,defaultValue:t==null?void 0:t.plate_status,onChange:n=>{a(n.target.value),y(n)},children:[e("option",{value:"Draft",children:"Draft"}),e("option",{value:"Publish",children:"Publish"})]})]})})}),e(L,{color:"success",type:"submit",children:"Ok"}),e(L,{color:"secondary",children:"Cancel"})]})})]})})}function S(){const[h,g]=d.exports.useState([]),[t,c]=d.exports.useState(!0),p=()=>b(!v),[v,b]=d.exports.useState(!1),[C,f]=d.exports.useState(null),[y,_]=d.exports.useState([]),[l,a]=d.exports.useState([]),[i,n]=d.exports.useState("");d.exports.useEffect(()=>{m.get("https://dietservice.bitjoins.pe/api/chefs").then(o=>{g(o.data.data),c(!1)}),m.get("https://dietservice.bitjoins.pe/api/platos-web").then(o=>{_(o.data.data),a(o.data.data)})},[]);function x(o){p(),f(o)}console.log(y);const E=[{name:"Acciones",cell:o=>s("div",{children:[e(z,{onClick:()=>x(o),color:"gray",style:{cursor:"pointer"}}),e(B,{color:"gray",style:{cursor:"pointer"}})]}),center:!0,width:"8rem"},{name:"Id",selector:o=>o.plate_id,width:"6rem"},{name:"Titulo",selector:o=>o.plate_title,width:"10rem",sortable:!0},{name:"Restaurante",selector:o=>o.chef_title,width:"10rem",sortable:!0},{name:"Tipo de comida",selector:o=>o.plate_type_food,width:"10rem",sortable:!0},{name:"Porcion",selector:o=>o.plate_portion,width:"10rem",sortable:!0},{name:"Like",selector:o=>o.plate_counter_like,width:"10rem",sortable:!0},{name:"Status",selector:o=>o.plate_status,width:"10rem",sortable:!0}];function r(o){return o.filter(u=>{var P,O,H;return((P=u.plate_title)==null?void 0:P.toLowerCase().includes(i))||((O=u.plate_type_food)==null?void 0:O.toLowerCase().includes(i))||((H=u.chef_title)==null?void 0:H.toLowerCase().includes(i))})}return d.exports.useEffect(()=>{let o=r(l);_(o)},[i]),e("div",{children:t==!1?s("div",{children:[s("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e(L,{onClick:p,color:"success",children:"Nuevo"}),s("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"1rem"},children:[e("p",{style:{padding:0,margin:0},children:"Buscar:"}),e(w,{type:"text",style:{width:"25rem"},onChange:o=>n(o.target.value)})]})]}),e("br",{}),e(A,{columns:E,data:y,pagination:!0,noDataComponent:"No hay data",progressPending:t,progressComponent:e(N,{children:"Loading..."})}),e(Z,{toggle:p,modal:v,platoSelec:C,setPlatoSelec:f,restaurantes:h})]}):e(N,{children:"Loading..."})})}function ce(){const[h,g]=d.exports.useState("1");return e(Q,{sx:{width:"100%"},children:s(G,{value:h,children:[e(Q,{sx:{borderBottom:1,borderColor:"divider"},children:s(q,{onChange:(c,p)=>{g(p)},"aria-label":"lab API tabs example",children:[e(V,{label:"Categorias",value:"1"}),e(V,{label:"Restaurantes",value:"2"}),e(V,{label:"Cat. Restaurante",value:"3"}),e(V,{label:"Platos",value:"4"})]})}),e(D,{value:"1",children:e(K,{})}),e(D,{value:"2",children:e(W,{})}),e(D,{value:"3",children:e(Y,{})}),e(D,{value:"4",children:e(S,{})})]})})}export{ce as default};
