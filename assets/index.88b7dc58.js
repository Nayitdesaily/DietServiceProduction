import{r as d,j as e,o,au as E,bb as M,av as A,aa as x,cv as w,af as I,ag as _,$ as T,aj as b,ai as k}from"./index.8ebe918d.js";import{Q as R}from"./index.es.ea894507.js";import{u as z,C as j}from"./index.esm.f890ea54.js";import{a0 as F,T as $}from"./App.a419ef53.js";import{B as G}from"./Box.6d522f17.js";import{T as H,a as q,b as D,c as V}from"./Tab.4d32f9e0.js";import"./emotion-is-prop-valid.esm.22611268.js";import"./emotion-memoize.esm.06f0e458.js";import"./emotion-react.browser.esm.b8f6e64a.js";import"./TransitionGroup.7800fe6d.js";function J({toggle:u,modal:f,categoriaSelec:t,setCategoriaSelec:c}){const{handleSubmit:p,control:m,reset:h}=z({defaultValues:{category_title:""}}),[y,v]=d.exports.useState(null);function g(n){new FormData().append("imagen",y),console.log(n),t!=null?b.put(`https://dietservice.bitjoins.pe/api/categorias/actualizar/${t==null?void 0:t.category_id}`,t).then(r=>console.log(r.data.message)):b.post("https://dietservice.bitjoins.pe/api/categorias/crear",n,{headers:{"Content-Type":"multipart/form-data"}}).then(r=>console.log(r.data.message)),u(),c(null),h()}function s(n){if(t!=null){let i=n.target.name;c(r=>({...r,[i]:n.target.value}))}}return e("div",{children:o(E,{isOpen:f,toggle:()=>{u(),h(),c(null)},scrollable:!0,children:[e(M,{toggle:()=>{u(),h(),c(null)},children:"Nueva Categoria"}),e(A,{children:o("form",{onSubmit:p(g),children:[e(x,{children:e(j,{name:"category_title",control:m,render:({field:{value:n,onChange:i,...r}})=>o(w,{children:[e(I,{children:"Nombre"}),e(_,{placeholder:"Ingrese el nombre de la categoria",type:"text",...r,defaultValue:t==null?void 0:t.category_title,onChange:C=>{i(C.target.value),s(C)}})]})})}),e(x,{children:e(j,{name:"category_image",control:m,render:({field:{value:n,onChange:i,...r}})=>o(w,{children:[e(I,{children:"Imagen"}),e(_,{placeholder:"Seleccione el destacado",type:"file",...r,defaultValue:t==null?void 0:t.category_image,onChange:C=>{i(C.target.files[0]),s(C)}})]})})}),e(T,{color:"success",type:"submit",children:"Ok"}),e(T,{color:"secondary",children:"Cancel"})]})})]})})}function K(){const[u,f]=d.exports.useState([]),[t,c]=d.exports.useState(!0),p=()=>h(!m),[m,h]=d.exports.useState(!1),[y,v]=d.exports.useState(null),[g,s]=d.exports.useState([]),[n,i]=d.exports.useState("");d.exports.useEffect(()=>{b.get("https://dietservice.bitjoins.pe/api/categorias").then(l=>{f(l.data.data),c(!1),s(l.data.data)})},[]);function r(l){p(),v(l)}const C=[{name:"Id",selector:(l,P)=>l.category_id,width:"6rem"},{name:"Imagen",selector:l=>e("img",{src:`https://intranet.dietservice.pe/appdiet/images/${l.category_image}`,alt:"",style:{width:"4rem",height:"3rem",objectFit:"cover"}}),width:"20rem",sortable:!0,center:!0},{name:"Titulo",selector:l=>l.category_title,width:"50rem",sortable:!0},{name:"Acciones",cell:l=>o("div",{children:[e(F,{onClick:()=>r(l),color:"gray",style:{cursor:"pointer"}}),e($,{color:"gray",style:{cursor:"pointer"}})]}),center:!0,width:"8rem"},{}];function L(l){return l.filter(P=>P.category_title.toLowerCase().includes(n))}return d.exports.useEffect(()=>{let l=L(g);f(l)},[n]),e("div",{children:t==!1?o("div",{children:[o("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e(T,{onClick:p,color:"success",children:"Nuevo"}),o("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"1rem"},children:[e("p",{style:{padding:0,margin:0},children:"Buscar:"}),e(_,{type:"text",style:{width:"25rem"},onChange:l=>i(l.target.value)})]})]}),e("br",{}),e(R,{columns:C,data:u,pagination:!0,noDataComponent:"No hay data",progressPending:t,progressComponent:e(k,{children:"Loading..."})}),e(J,{toggle:p,modal:m,categoriaSelec:y,setCategoriaSelec:v,categorias:u})]}):e(k,{children:"Loading..."})})}function U({toggle:u,modal:f,restauranteSelec:t,setRestauranteSelec:c,categorias:p}){const{handleSubmit:m,control:h,reset:y}=z({defaultValues:{chef_title:"",chef_image:"",chef_category:""}});function v(s){t!=null?b.put(`https://dietservice.bitjoins.pe/api/chefs/actualizar/${t==null?void 0:t.chef_id}`,t).then(n=>console.log(n.data.message)):b.post("https://dietservice.bitjoins.pe/api/chefs/crear",s).then(n=>console.log(n.data.message)),u(),c(null),y()}function g(s){if(t!=null){let n=s.target.name;c(i=>({...i,[n]:s.target.value}))}}return e("div",{children:o(E,{isOpen:f,toggle:()=>{u(),y(),c(null)},scrollable:!0,children:[e(M,{toggle:()=>{u(),y(),c(null)},children:"Nuevo Restaurante"}),e(A,{children:o("form",{onSubmit:m(v),children:[e(x,{children:e(j,{name:"chef_title",control:h,render:({field:{value:s,onChange:n,...i}})=>o(w,{children:[e(I,{children:"Nombre"}),e(_,{placeholder:"Ingrese el nombre de la categoria",type:"text",...i,defaultValue:t==null?void 0:t.chef_title,onChange:r=>{n(r.target.value),g(r)}})]})})}),e(x,{children:e(j,{name:"chef_category",control:h,render:({field:{value:s,onChange:n,...i}})=>o(w,{children:[e(I,{children:"Categoria"}),o(_,{placeholder:"Ingrese el nombre de la categoria",type:"select",...i,defaultValue:t==null?void 0:t.chef_category,onChange:r=>{n(r.target.value),g(r)},children:[e("option",{value:t!=null&&t.chef_category?t.chef_category:"",children:t!=null&&t.chef_category?t.category_title:"Seleccione la categoria"}),p.map(r=>e("option",{value:r.category_id,children:r.category_title}))]})]})})}),e(T,{color:"success",type:"submit",children:"Ok"}),e(T,{color:"secondary",children:"Cancel"})]})})]})})}function W(){const[u,f]=d.exports.useState([]),[t,c]=d.exports.useState(!0),p=()=>h(!m),[m,h]=d.exports.useState(!1),[y,v]=d.exports.useState(null),[g,s]=d.exports.useState([]),[n,i]=d.exports.useState([]),[r,C]=d.exports.useState("");d.exports.useEffect(()=>{b.get("https://dietservice.bitjoins.pe/api/chefs").then(a=>{f(a.data.data),c(!1),i(a.data.data)}),b.get("https://dietservice.bitjoins.pe/api/categorias-chef").then(a=>s(a.data.data))},[]);function L(a){p(),v(a)}const l=[{name:"Id",selector:a=>a.chef_id,width:"6rem"},{name:"Imagen",selector:a=>e("img",{src:`https://intranet.dietservice.pe/appdiet/images/${a.chef_image}`,alt:"",style:{width:"4rem",height:"3rem",objectFit:"cover"}}),width:"10rem",sortable:!0},{name:"Nombre",selector:a=>a.chef_title,width:"10rem",sortable:!0},{name:"Categoria",selector:a=>a.category_title,width:"10rem",sortable:!0},{name:"Acciones",cell:a=>o("div",{children:[e(F,{onClick:()=>L(a),color:"gray",style:{cursor:"pointer"}}),e($,{color:"gray",style:{cursor:"pointer"}})]}),center:!0,width:"8rem"},{}];function P(a){return a.filter(N=>N.chef_title.toLowerCase().includes(r)||N.category_title.toLowerCase().includes(r))}return d.exports.useEffect(()=>{let a=P(n);f(a)},[r]),e("div",{children:t==!1?o("div",{children:[o("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e(T,{onClick:p,color:"success",children:"Nuevo"}),o("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"1rem"},children:[e("p",{style:{padding:0,margin:0},children:"Buscar:"}),e(_,{type:"text",style:{width:"25rem"},onChange:a=>C(a.target.value)})]})]}),e("br",{}),e(R,{columns:l,data:u,pagination:!0,noDataComponent:"No hay data",progressPending:t,progressComponent:e(k,{children:"Loading..."})}),e(U,{toggle:p,modal:m,restauranteSelec:y,setRestauranteSelec:v,categorias:g})]}):e(k,{children:"Loading..."})})}function X({toggle:u,modal:f,categoriaSelec:t,setCategoriaSelec:c}){const{handleSubmit:p,control:m,reset:h}=z({defaultValues:{category_title:""}});function y(s){t!=null?b.post(`https://dietservice.bitjoins.pe/api/categorias-chef/actualizar/${t==null?void 0:t.category_id}`,t,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>console.log(n.data)):b.post("https://dietservice.bitjoins.pe/api/categorias-chef/crear",s,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>console.log(n.data.message)),u(),c(null),h()}function v(s){if(t!=null){let n=s.target.name;c(i=>({...i,[n]:s.target.value}))}}function g(s){if(t!=null){let n=s.target.name;c(i=>({...i,[n]:s.target.files[0]}))}}return console.log(t),e("div",{children:o(E,{isOpen:f,toggle:()=>{u(),h(),c(null)},scrollable:!0,children:[e(M,{toggle:()=>{u(),h(),c(null)},children:"Nueva Categoria"}),e(A,{children:o("form",{onSubmit:p(y),children:[e(x,{children:e(j,{name:"category_title",control:m,render:({field:{value:s,onChange:n,...i}})=>o(w,{children:[e(I,{children:"Nombre"}),e(_,{placeholder:"Ingrese el nombre de la categoria",type:"text",...i,defaultValue:t==null?void 0:t.category_title,onChange:r=>{n(r.target.value),v(r)}})]})})}),e(x,{children:e(j,{name:"category_image",control:m,render:({field:{value:s,onChange:n,...i}})=>o(w,{children:[e(I,{children:"Imagen"}),e(_,{placeholder:"Seleccione la imagen",type:"file",...i,onChange:r=>{n(r.target.files[0]),g(r)}})]})})}),e(T,{color:"success",type:"submit",children:"Ok"}),e(T,{color:"secondary",children:"Cancel"})]})})]})})}function Y(){const[u,f]=d.exports.useState([]),[t,c]=d.exports.useState(!0),p=()=>h(!m),[m,h]=d.exports.useState(!1),[y,v]=d.exports.useState(null),[g,s]=d.exports.useState([]),[n,i]=d.exports.useState("");d.exports.useEffect(()=>{b.get("https://dietservice.bitjoins.pe/api/categorias-chef").then(l=>{f(l.data.data),c(!1),s(l.data.data)})},[]);function r(l){p(),v(l)}const C=[{name:"Id",selector:l=>l.category_id,width:"6rem"},{name:"Image",selector:l=>e("img",{src:`https://intranet.dietservice.pe/appdiet/images/${l.category_image}`,alt:"",style:{width:"4rem",height:"3rem",objectFit:"cover"}}),width:"20rem",sortable:!0},{name:"Titulo",selector:l=>l.category_title,width:"50rem",sortable:!0},{name:"Acciones",cell:l=>o("div",{children:[e(F,{onClick:()=>r(l),color:"gray",style:{cursor:"pointer"}}),e($,{color:"gray",style:{cursor:"pointer"}})]}),center:!0,width:"8rem"},{}];function L(l){return l.filter(P=>P.category_title.toLowerCase().includes(n))}return d.exports.useEffect(()=>{let l=L(g);f(l)},[n]),e("div",{children:t==!1?o("div",{children:[o("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e(T,{onClick:p,color:"success",children:"Nuevo"}),o("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"1rem"},children:[e("p",{style:{padding:0,margin:0},children:"Buscar:"}),e(_,{type:"text",style:{width:"25rem"},onChange:l=>i(l.target.value)})]})]}),e("br",{}),e(R,{columns:C,data:u,pagination:!0,noDataComponent:"No hay data",progressPending:t,progressComponent:e(k,{children:"Loading..."})}),e(X,{toggle:p,modal:m,categoriaSelec:y,setCategoriaSelec:v})]}):e(k,{children:"Loading..."})})}function Z({toggle:u,modal:f,platoSelec:t,setPlatoSelec:c,restaurantes:p}){const{handleSubmit:m,control:h,reset:y}=z({defaultValues:{plate_title:"",plate_restaurant:"",plate_description:"",plate_type_food:"",plate_portion:"",plate_counter_like:"",plate_status:""}});function v(s){t!=null?b.put(`https://dietservice.bitjoins.pe/api/categorias/actualizar/${t==null?void 0:t.plate_id}`,t).then(n=>console.log(n.data.message)):b.post("https://dietservice.bitjoins.pe/api/platos/create",s).then(n=>console.log(n.data.message)),u(),c(null),y()}function g(s){if(t!=null){let n=s.target.name;c(i=>({...i,[n]:s.target.value}))}}return e("div",{children:o(E,{isOpen:f,toggle:()=>{u(),y(),c(null)},scrollable:!0,children:[e(M,{toggle:()=>{u(),y(),c(null)},children:"Nuevo Plato"}),e(A,{children:o("form",{onSubmit:m(v),children:[e(x,{children:e(j,{name:"plate_title",control:h,render:({field:{value:s,onChange:n,...i}})=>o(w,{children:[e(I,{children:"Nombre"}),e(_,{placeholder:"Ingrese el nombre",type:"text",...i,defaultValue:t==null?void 0:t.plate_title,onChange:r=>{n(r.target.value),g(r)}})]})})}),e(x,{children:e(j,{name:"plate_restaurant",control:h,render:({field:{value:s,onChange:n,...i}})=>o(w,{children:[e(I,{children:"Nombre"}),o(_,{placeholder:"Seleccione el restaurante",type:"select",...i,defaultValue:t==null?void 0:t.plate_restaurant,onChange:r=>{n(r.target.value),g(r)},children:[e("option",{value:t!=null&&t.plate_restaurant?t.plate_restaurant:"",children:t!=null&&t.plate_restaurant?t.chef_title:"Seleccione el restaurante"}),p.map(r=>e("option",{value:r.chef_id,children:r.chef_title}))]})]})})}),e(x,{children:e(j,{name:"plate_description",control:h,render:({field:{value:s,onChange:n,...i}})=>o(w,{children:[e(I,{children:"Descripcion"}),e(_,{placeholder:"Ingrese la descripcion",type:"textarea",...i,defaultValue:t==null?void 0:t.plate_description,onChange:r=>{n(r.target.value),g(r)}})]})})}),e(x,{children:e(j,{name:"plate_type_food",control:h,render:({field:{value:s,onChange:n,...i}})=>o(w,{children:[e(I,{children:"Tipo de comida"}),o(_,{placeholder:"Seleccione el restaurante",type:"select",...i,defaultValue:t==null?void 0:t.plate_type_food,onChange:r=>{n(r.target.value),g(r)},children:[e("option",{value:t!=null&&t.plate_type_food?t.plate_type_food:"",children:t!=null&&t.plate_type_food?t.plate_type_food:"Selecciona el tipo de comida"}),e("option",{value:"Desayuno",children:"Desayuno"}),e("option",{value:"Almuerzo",children:"Almuerzo"}),e("option",{value:"Merienda",children:"Merienda"}),e("option",{value:"Cena",children:"Cena"})]})]})})}),e(x,{children:e(j,{name:"plate_portion",control:h,render:({field:{value:s,onChange:n,...i}})=>o(w,{children:[e(I,{children:"Porcion"}),e(_,{placeholder:"Ingrese la porcion",type:"textarea",...i,defaultValue:t==null?void 0:t.plate_portion,onChange:r=>{n(r.target.value),g(r)}})]})})}),e(x,{children:e(j,{name:"plate_counter_like",control:h,render:({field:{value:s,onChange:n,...i}})=>o(w,{children:[e(I,{children:"Likes"}),e(_,{placeholder:"Ingrese la porcion",type:"number",...i,defaultValue:t!=null&&t.plate_counter_like?t==null?void 0:t.plate_counter_like:0,onChange:r=>{n(r.target.value),g(r)}})]})})}),e(x,{children:e(j,{name:"plate_status",control:h,render:({field:{value:s,onChange:n,...i}})=>o(w,{children:[e(I,{children:"Tipo de comida"}),o(_,{placeholder:"Seleccione el restaurante",type:"select",...i,defaultValue:t==null?void 0:t.plate_status,onChange:r=>{n(r.target.value),g(r)},children:[e("option",{value:"Draft",children:"Draft"}),e("option",{value:"Publish",children:"Publish"})]})]})})}),e(T,{color:"success",type:"submit",children:"Ok"}),e(T,{color:"secondary",children:"Cancel"})]})})]})})}function S(){const[u,f]=d.exports.useState([]),[t,c]=d.exports.useState(!0),p=()=>h(!m),[m,h]=d.exports.useState(!1),[y,v]=d.exports.useState(null),[g,s]=d.exports.useState([]),[n,i]=d.exports.useState([]),[r,C]=d.exports.useState("");d.exports.useEffect(()=>{b.get("https://dietservice.bitjoins.pe/api/chefs").then(a=>{f(a.data.data),c(!1)}),b.get("https://dietservice.bitjoins.pe/api/platos-web").then(a=>{s(a.data.data),i(a.data.data)})},[]);function L(a){p(),v(a)}const l=[{name:"Id",selector:a=>a.plate_id,width:"6rem"},{name:"Imagen",selector:a=>a.plate_image,width:"10rem",sortable:!0},{name:"Titulo",selector:a=>a.plate_title,width:"10rem",sortable:!0},{name:"Restaurante",selector:a=>a.chef_title,width:"10rem",sortable:!0},{name:"Tipo de comida",selector:a=>a.plate_type_food,width:"10rem",sortable:!0},{name:"Porcion",selector:a=>a.plate_portion,width:"10rem",sortable:!0},{name:"Like",selector:a=>a.plate_counter_like,width:"10rem",sortable:!0},{name:"Status",selector:a=>a.plate_status,width:"10rem",sortable:!0},{name:"Acciones",cell:a=>o("div",{children:[e(F,{onClick:()=>L(a),color:"gray",style:{cursor:"pointer"}}),e($,{color:"gray",style:{cursor:"pointer"}})]}),center:!0,width:"8rem"},{}];function P(a){return a.filter(N=>{var B,O,Q;return((B=N.plate_title)==null?void 0:B.toLowerCase().includes(r))||((O=N.plate_type_food)==null?void 0:O.toLowerCase().includes(r))||((Q=N.chef_title)==null?void 0:Q.toLowerCase().includes(r))})}return d.exports.useEffect(()=>{let a=P(n);s(a)},[r]),e("div",{children:t==!1?o("div",{children:[o("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e(T,{onClick:p,color:"success",children:"Nuevo"}),o("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"1rem"},children:[e("p",{style:{padding:0,margin:0},children:"Buscar:"}),e(_,{type:"text",style:{width:"25rem"},onChange:a=>C(a.target.value)})]})]}),e("br",{}),e(R,{columns:l,data:g,pagination:!0,noDataComponent:"No hay data",progressPending:t,progressComponent:e(k,{children:"Loading..."})}),e(Z,{toggle:p,modal:m,platoSelec:y,setPlatoSelec:v,restaurantes:u})]}):e(k,{children:"Loading..."})})}function ce(){const[u,f]=d.exports.useState("1");return e(G,{sx:{width:"100%"},children:o(H,{value:u,children:[e(G,{sx:{borderBottom:1,borderColor:"divider"},children:o(q,{onChange:(c,p)=>{f(p)},"aria-label":"lab API tabs example",children:[e(D,{label:"Categorias",value:"1"}),e(D,{label:"Restaurantes",value:"2"}),e(D,{label:"Cat. Restaurante",value:"3"}),e(D,{label:"Platos",value:"4"})]})}),e(V,{value:"1",children:e(K,{})}),e(V,{value:"2",children:e(W,{})}),e(V,{value:"3",children:e(Y,{})}),e(V,{value:"4",children:e(S,{})})]})})}export{ce as default};
