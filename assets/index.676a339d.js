import{r as n,o as p,j as i,K as g}from"./index.dfabc371.js";import{C as R,b as w,c as D,d as N,e as I,p as M,f as S,g as W,L}from"./index.cb02f643.js";import{h as x}from"./es.57ad9124.js";import{m as O}from"./mock.f9508902.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var k=function(t,a){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var s in o)o.hasOwnProperty(s)&&(e[s]=o[s])},k(t,a)};function T(t,a){k(t,a);function e(){this.constructor=t}t.prototype=a===null?Object.create(a):(e.prototype=a.prototype,new e)}var _=100,V=100,P=50,v=50,b=50;function E(t){var a=t.className,e=t.counterClockwise,o=t.dashRatio,s=t.pathRadius,r=t.strokeWidth,l=t.style;return n.exports.createElement("path",{className:a,style:Object.assign({},l,B({pathRadius:s,dashRatio:o,counterClockwise:e})),d:j({pathRadius:s,counterClockwise:e}),strokeWidth:r,fillOpacity:0})}function j(t){var a=t.pathRadius,e=t.counterClockwise,o=a,s=e?1:0;return`
      M `+v+","+b+`
      m 0,-`+o+`
      a `+o+","+o+" "+s+" 1 1 0,"+2*o+`
      a `+o+","+o+" "+s+" 1 1 0,-"+2*o+`
    `}function B(t){var a=t.counterClockwise,e=t.dashRatio,o=t.pathRadius,s=Math.PI*2*o,r=(1-e)*s;return{strokeDasharray:s+"px "+s+"px",strokeDashoffset:(a?-r:r)+"px"}}var y=function(t){T(a,t);function a(){return t!==null&&t.apply(this,arguments)||this}return a.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},a.prototype.getPathRadius=function(){return P-this.props.strokeWidth/2-this.getBackgroundPadding()},a.prototype.getPathRatio=function(){var e=this.props,o=e.value,s=e.minValue,r=e.maxValue,l=Math.min(Math.max(o,s),r);return(l-s)/(r-s)},a.prototype.render=function(){var e=this.props,o=e.circleRatio,s=e.className,r=e.classes,l=e.counterClockwise,d=e.styles,h=e.strokeWidth,u=e.text,c=this.getPathRadius(),f=this.getPathRatio();return n.exports.createElement("svg",{className:r.root+" "+s,style:d.root,viewBox:"0 0 "+_+" "+V,"data-test-id":"CircularProgressbar"},this.props.background?n.exports.createElement("circle",{className:r.background,style:d.background,cx:v,cy:b,r:P}):null,n.exports.createElement(E,{className:r.trail,counterClockwise:l,dashRatio:o,pathRadius:c,strokeWidth:h,style:d.trail}),n.exports.createElement(E,{className:r.path,counterClockwise:l,dashRatio:f*o,pathRadius:c,strokeWidth:h,style:d.path}),u?n.exports.createElement("text",{className:r.text,style:d.text,x:v,y:b},u):null)},a.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},a}(n.exports.Component);function C(t){var a=t.rotation,e=t.strokeLinecap,o=t.textColor,s=t.textSize,r=t.pathColor,l=t.pathTransition,d=t.pathTransitionDuration,h=t.trailColor,u=t.backgroundColor,c=a==null?void 0:"rotate("+a+"turn)",f=a==null?void 0:"center center";return{root:{},path:m({stroke:r,strokeLinecap:e,transform:c,transformOrigin:f,transition:l,transitionDuration:d==null?void 0:d+"s"}),trail:m({stroke:h,strokeLinecap:e,transform:c,transformOrigin:f}),text:m({fill:o,fontSize:s}),background:m({fill:u})}}function m(t){return Object.keys(t).forEach(function(a){t[a]==null&&delete t[a]}),t}const z=({lastEvolution:t})=>{R.register(w,D,N,I,M,S,W);const[a,e]=n.exports.useState([]),[o,s]=n.exports.useState([]),[r,l]=n.exports.useState([]);x.locale("es"),n.exports.useEffect(()=>{l([]),s([]),a.map(u=>{s(c=>[...c,x(u.fecha).format("MMM").charAt(0).toUpperCase().concat(x(u.fecha).format("MMMM DD").slice(1))]),l(c=>[...c,u.peso])})},[a]),n.exports.useEffect(()=>{async function u(){await g.get("https://dietservice.bitjoins.pe/api/evolucion/6616").then(c=>{e(c.data.data)}),setPending(!1)}u()},[]);const d={labels:o,datasets:[{label:null,data:r,tension:.2,borderColor:"white",borderWidth:4,pointBackgroundColor:"#7C0902   ",pointBorderColor:"#7C0902",fill:!0,backgroundColor:"red"}]},h={scales:{y:{grid:{display:!1},ticks:{color:"white",font:{size:14}}},x:{grid:{display:!1},ticks:{color:"white",font:{size:14}}}},animations:{tension:{duration:2e3,easing:"linear",from:.5,to:0,loop:!0}},plugins:{legend:{display:!1}},layout:{padding:1},backgroundColor:"#E09540"};return p("div",{children:[i("h4",{className:"principal-title",children:"Evolucion Tratamiento Nutricional"}),p("div",{className:"container-progress",children:[p("div",{className:"container-progress-chart",children:[i("h4",{className:"container-progress-chart-title",children:"Grasa"}),i(y,{value:t.p_grasa,text:t.p_grasa==null?"0":`${t.p_grasa}%`,styles:C({pathColor:"#24ac90",textColor:"#000000",textSize:"1rem",pathTransitionDuration:2,strokeLinecap:"butt"})}),i("h5",{className:"container-progress-chart-description",children:"Grasa Ideal:"})]}),p("div",{className:"container-progress-chart",children:[i("h4",{className:"container-progress-chart-title",children:"IMC"}),i(y,{value:t.imc,text:t.imc==null?"0":`${t.imc}%`,styles:C({pathColor:"#c074ad",textColor:"#000000",textSize:"1rem",pathTransitionDuration:2,strokeLinecap:"butt"})}),i("h5",{className:"container-progress-chart-description",children:"IMC Ideal:"})]}),p("div",{className:"container-progress-chart",children:[i("h4",{className:"container-progress-chart-title",children:"Masa Muscular"}),i(y,{value:t.p_masa,text:t.p_masa==null?"0":`${t.p_masa}%`,styles:C({pathColor:"#c2d45b",strokeLinecap:"butt",textColor:"#000000",textSize:"1rem",pathTransitionDuration:2})}),i("h5",{className:"container-progress-chart-description",children:"Masa Muscular Ideal:"})]})]}),i("h4",{children:"Evolucion De Peso"}),i("br",{}),i("div",{style:{width:"100%",justifyContent:"center",display:"flex",alignItems:"center"},children:i("div",{style:{width:"70%",display:"flex",justifyContent:"center",alignItems:"center"},children:i(L,{data:d,options:h,style:{backgroundColor:"#E09540",borderRadius:"1rem",padding:"1rem",color:"white"}})})})]})};function H(){var s;const[t,a]=n.exports.useState(null),[e,o]=n.exports.useState(null);return n.exports.useEffect(()=>{async function r(){await g.get("https://dietservice.bitjoins.pe/api/plan_alimentacion/last/6616").then(l=>{o(l.data.data.id)})}r()},[]),n.exports.useEffect(()=>{async function r(){await g.get(`https://dietservice.bitjoins.pe/api/plan-alimentacion-web/dieta-of-today/${e}`).then(l=>{a(l.data.data)})}r()},[e]),p("div",{children:[i("h4",{children:"Plan Del Dia"}),i("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",padding:"2rem 5rem",gap:"2rem"},children:t?(s=t==null?void 0:t.comidas)==null?void 0:s.map((r,l)=>p("div",{style:{display:"flex",justifyContent:"flex-start",gap:"5rem",alignItems:"center"},children:[i("p",{style:{minWidth:"5rem"},children:r.comida==1?"Desayuno":r.comida==2?"Almuerzo":r.comida==3?"Cena":r.comida==4?"Merienda":null}),i("div",{style:{flex:"1",padding:"1rem",backgroundColor:"#E5B359",color:"white",borderRadius:"1rem"},children:r.descripcion})]},l)):i("h5",{children:"Cargando el plan del dia..."})})]})}const F=()=>{O.restore();const[t,a]=n.exports.useState([]),[e,o]=n.exports.useState({});return n.exports.useEffect(()=>{if(t.length>0){const s=t==null?void 0:t.reduce((r,l)=>r.fecha>l.fecha?r:l);o(s)}},[t]),n.exports.useEffect(()=>{async function s(){await g.get("https://dietservice.bitjoins.pe/api/evolucion/6616").then(r=>{a(r.data.data)}),setPending(!1)}s()},[]),i(n.exports.Fragment,{children:p("div",{children:[i(z,{lastEvolution:e}),i("br",{}),i(H,{})]})})};export{F as default};
