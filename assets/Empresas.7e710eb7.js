import{j as e,o as d,au as v,bb as x,av as E,aa as C,cv as j,af as y,ag as w,$ as c,aj as f,r as l,ai as M}from"./index.365e3ad1.js";import{Q as N}from"./index.es.72966381.js";import{u as $,C as k}from"./index.esm.b088bfd3.js";import"./emotion-is-prop-valid.esm.22611268.js";import"./emotion-memoize.esm.06f0e458.js";function I({toggle:i,modal:u,empresaSelec:t,setEmpresaSelec:n}){const{handleSubmit:m,control:p,reset:s}=$({defaultValues:{nombre:""}});function h(r){t!=null?f.post(`https://dietservice.bitjoins.pe/api/actualizar_empresa/${t==null?void 0:t.id}`,t).then(a=>console.log(a.data)):f.post("https://dietservice.bitjoins.pe/api/crear_empresa_web",r).then(a=>console.log(a.data)),i(),n(null),s()}function g(r){if(t!=null){let a=r.target.name;n(o=>({...o,[a]:r.target.value}))}}return e("div",{children:d(v,{isOpen:u,toggle:()=>{i(),s(),n(null)},scrollable:!0,children:[e(x,{toggle:()=>{i(),s(),n(null)},children:"Nueva Empresa"}),e(E,{children:d("form",{onSubmit:m(h),children:[e(C,{children:e(k,{name:"nombre",control:p,render:({field:{value:r,onChange:a,...o}})=>d(j,{children:[e(y,{children:"Nombre"}),e(w,{placeholder:"Ingrese el nombre de la categoria",type:"text",...o,defaultValue:t==null?void 0:t.nombre,onChange:b=>{a(b.target.value),g(b)}})]})})}),e(c,{color:"success",type:"submit",children:"Ok"}),e(c,{color:"secondary",children:"Cancel"})]})})]})})}function L(){const[i,u]=l.exports.useState(!0),t=()=>m(!n),[n,m]=l.exports.useState(!1),[p,s]=l.exports.useState(null),[h,g]=l.exports.useState([]);l.exports.useEffect(()=>{f.get("https://dietservice.bitjoins.pe/api/empresas").then(o=>{g(o.data),u(!1)})},[]);function r(o){t(),s(o)}return d("div",{children:[e(c,{onClick:t,color:"success",children:"Nuevo"}),e(N,{columns:[{name:"Id",selector:o=>o.id,width:"12rem",center:!0},{name:"Nombre",selector:o=>o.nombre,width:"60rem",sortable:!0},{name:"Acciones",cell:o=>d("div",{style:{display:"flex",gap:"1rem"},children:[e(c,{onClick:()=>r(o),color:"warning",children:"Editar"}),e(c,{color:"danger",children:"Eliminar"})]}),center:!0,width:"20rem"},{}],data:h,pagination:!0,noDataComponent:"No hay data",progressPending:i,progressComponent:e(M,{children:"Loading..."})}),e(I,{empresaSelec:p,toggle:t,modal:n,setEmpresaSelec:s})]})}export{L as default};
