import{o as t,j as e,am as he,an as ge,F as W,U as be,D as fe,x as ke,y as I,L as b,k as R,B as Ne,E as z,as as V,at as x,r as g,au as ve,af as Te,av as Ce,ag as O,ah as Se,h as xe,aw as we,ax as $,ay as q,az as _,aA as ye,aB as De,aC as Ae}from"./index.9f9eb0a7.js";import{d as Fe,S as Me,f as Q,P as Y,A as G,m as Be,p as K,r as ze,T as ee,s as Ie,t as U,v as Z,j as D,X as Oe,w as Pe,a as Re}from"./App.402f00db.js";import{R as Ee}from"./index.903f7d08.js";import{F as je}from"./index.00fbc950.js";import{D as A,r as Le}from"./editor.0c13ef6d.js";import{S as J,c as $e}from"./react-select.esm.16eef373.js";import{u as Ge,C as Ue}from"./index.esm.a2281adc.js";import{i as We}from"./avatar-s-1.e06db07a.js";import{i as He,a as Ve}from"./avatar-s-2.a635d485.js";import{i as qe}from"./avatar-s-6.f63eadb1.js";/* empty css                  */import"./emotion-react.browser.esm.9deeb2fc.js";import"./emotion-memoize.esm.06f0e458.js";const _e="/assets/avatar-blank.a991450c.png",Qe=p=>{const{query:v,tasks:n,params:s,setSort:u,dispatch:h,getTasks:r,setQuery:N,updateTask:d,selectTask:i,reOrderTasks:o,handleTaskSidebar:m,handleMainSidebar:T}=p,w=a=>{h(i(a)),m()},C=a=>a.includes("high")?"light-primary":a.includes("medium")?"light-warning":a.includes("low")?"light-success":a.includes("update")?"light-danger":a.includes("team")?"light-info":"light-primary",F=a=>{const c={team:"light-primary",low:"light-success",medium:"light-warning",high:"light-danger",update:"light-info"};return a.map(f=>e(Ne,{className:"text-capitalize",color:c[f],pill:!0,children:f},f))},M=a=>{const c=a.assignee;return c.avatar===void 0||c.avatar===null?e(G,{img:_e,imgHeight:"32",imgWidth:"32"}):c.avatar!==""?e(G,{img:c.avatar,imgHeight:"32",imgWidth:"32"}):e(G,{color:C(a.tags),content:c.fullName,initials:!0})},P=()=>e(Y,{className:"list-group todo-task-list-wrapper",options:{wheelPropagation:!1},containerRef:a=>{a&&(a._getBoundingClientRect=a.getBoundingClientRect,a.getBoundingClientRect=()=>{const c=a._getBoundingClientRect();return{...c,height:Math.floor(c.height)}})},children:n.length?e(Ee,{tag:"ul",list:n,handle:".drag-icon",className:"todo-task-list media-list",setList:a=>h(o(a)),children:n.map((a,c)=>e("li",{onClick:()=>w(a),className:R("todo-item",{completed:a.isCompleted}),children:t("div",{className:"todo-title-wrapper",children:[t("div",{className:"todo-title-area",children:[e(Q,{className:"drag-icon"}),e("div",{className:"form-check",children:e(W,{type:"checkbox",id:a.title,checked:a.isCompleted,onClick:f=>f.stopPropagation(),onChange:f=>{f.stopPropagation(),h(d({...a,isCompleted:f.target.checked}))}})}),e("span",{className:"todo-title",children:a.title})]}),t("div",{className:"todo-item-action mt-lg-0 mt-50",children:[a.tags&&a.tags.length?e("div",{className:"badge-wrapper me-1",children:F(a.tags)}):null,a.dueDate?t("small",{className:"text-nowrap text-muted me-1",children:[new Date(a.dueDate).toLocaleString("default",{month:"short"})," ",new Date(a.dueDate).getDate().toString().padStart(2,"0")]}):null,a.assignee?M(a):null]})]})},`${a.id}-${c}`))}):e("div",{className:"no-results show",children:e("h5",{children:"No Items Found"})})}),B=a=>{N(a.target.value),h(r(s))},y=(a,c)=>{a.preventDefault(),u(c),h(r({...s}))};return t("div",{className:"todo-app-list",children:[t("div",{className:"app-fixed-search d-flex align-items-center",children:[e("div",{className:"sidebar-toggle cursor-pointer d-block d-lg-none ms-1",onClick:T,children:e(Fe,{size:21})}),e("div",{className:"d-flex align-content-center justify-content-between w-100",children:t(he,{className:"input-group-merge",children:[e(ge,{children:e(Me,{className:"text-muted",size:14})}),e(W,{placeholder:"Search task",value:v,onChange:B})]})}),t(be,{children:[e(fe,{className:"hide-arrow me-1",tag:"a",href:"/",onClick:a=>a.preventDefault(),children:e(Q,{className:"text-body",size:16})}),t(ke,{end:!0,children:[e(I,{tag:b,to:"/",onClick:a=>y(a,"title-asc"),children:"Sort A-Z"}),e(I,{tag:b,to:"/",onClick:a=>y(a,"title-desc"),children:"Sort Z-A"}),e(I,{tag:b,to:"/",onClick:a=>y(a,"assignee"),children:"Sort Assignee"}),e(I,{tag:b,to:"/",onClick:a=>y(a,"due-date"),children:"Sort Due Date"}),e(I,{tag:b,to:"/",onClick:a=>y(a,""),children:"Reset Sort"})]})]})]}),P()]})},Ze=p=>{const{handleTaskSidebar:v,setMainSidebar:n,mainSidebar:s,dispatch:u,getTasks:h,params:r}=p,N=m=>{u(h({...r,filter:m}))},d=m=>{u(h({...r,tag:m}))},i=m=>!!(r.filter&&r.filter===m||r.tag&&r.tag===m),o=()=>{v(),n()};return e("div",{className:R("sidebar-left",{show:s===!0}),children:e("div",{className:"sidebar",children:e("div",{className:"sidebar-content todo-sidebar",children:t("div",{className:"todo-app-menu",children:[e("div",{className:"add-task",children:e(z,{color:"primary",onClick:o,block:!0,children:"Add Task"})}),t(Y,{className:"sidebar-menu-list",options:{wheelPropagation:!1},children:[t(V,{tag:"div",className:"list-group-filters",children:[t(x,{action:!0,tag:b,to:"/apps/todo/",active:r.filter===""&&r.tag==="",onClick:()=>N(""),children:[e(Be,{className:"me-75",size:18}),e("span",{className:"align-middle",children:"My Tasks"})]}),t(x,{tag:b,to:"/apps/todo/important",active:i("important"),onClick:()=>N("important"),action:!0,children:[e(K,{className:"me-75",size:18}),e("span",{className:"align-middle",children:"Important"})]}),t(x,{tag:b,to:"/apps/todo/completed",active:i("completed"),onClick:()=>N("completed"),action:!0,children:[e(ze,{className:"me-75",size:18}),e("span",{className:"align-middle",children:"Completed"})]}),t(x,{tag:b,to:"/apps/todo/deleted",active:i("deleted"),onClick:()=>N("deleted"),action:!0,children:[e(ee,{className:"me-75",size:18}),e("span",{className:"align-middle",children:"Deleted"})]})]}),t("div",{className:"mt-3 px-2 d-flex justify-content-between",children:[e("h6",{className:"section-label mb-1",children:"Tags"}),e(Ie,{className:"cursor-pointer",size:14})]}),t(V,{className:"list-group-labels",children:[t(x,{active:i("team"),className:"d-flex align-items-center",tag:b,to:"/apps/todo/tag/team",onClick:()=>d("team"),action:!0,children:[e("span",{className:"bullet bullet-sm bullet-primary me-1"}),e("span",{className:"align-middle",children:"Team"})]}),t(x,{active:i("low"),className:"d-flex align-items-center",tag:b,to:"/apps/todo/tag/low",onClick:()=>d("low"),action:!0,children:[e("span",{className:"bullet bullet-sm bullet-success me-1"}),e("span",{className:"align-middle",children:"Low"})]}),t(x,{active:i("medium"),className:"d-flex align-items-center",tag:b,to:"/apps/todo/tag/medium",onClick:()=>d("medium"),action:!0,children:[e("span",{className:"bullet bullet-sm bullet-warning me-1"}),e("span",{className:"align-middle",children:"Medium"})]}),t(x,{active:i("high"),className:"d-flex align-items-center",tag:b,to:"/apps/todo/tag/high",onClick:()=>d("high"),action:!0,children:[e("span",{className:"bullet bullet-sm bullet-danger me-1"}),e("span",{className:"align-middle",children:"High"})]}),t(x,{active:i("update"),className:"d-flex align-items-center",tag:b,to:"/apps/todo/tag/update",onClick:()=>d("update"),action:!0,children:[e("span",{className:"bullet bullet-sm bullet-info me-1"}),e("span",{className:"align-middle",children:"Update"})]})]})]})]})})})})},X=p=>p.charAt(0).toUpperCase()+p.slice(1),Je=p=>{const{children:v,store:n,handleTaskSidebar:s,setDeleted:u,deleted:h,important:r,setImportant:N,deleteTask:d,dispatch:i}=p,o=()=>{u(!h),i(d(n.selectedTask.id)),s()};return t("div",{className:"modal-header d-flex align-items-center justify-content-between mb-1",children:[e("h5",{className:"modal-title",children:v}),t("div",{className:"todo-item-action d-flex align-items-center",children:[n&&!D(n.selectedTask)?e(ee,{className:"cursor-pointer mt-25",size:16,onClick:()=>o()}):null,e("span",{className:"todo-item-favorite cursor-pointer mx-75",children:e(K,{size:16,onClick:()=>N(!r),className:R({"text-warning":r===!0})})}),e(Oe,{className:"fw-normal mt-25",size:16,onClick:s})]})]})},Xe=p=>{const{open:v,handleTaskSidebar:n,store:s,dispatch:u,updateTask:h,selectTask:r,addTask:N,deleteTask:d}=p,[i,o]=g.exports.useState({value:"pheobe",label:"Pheobe Buffay",img:U}),[m,T]=g.exports.useState([]),[w,C]=g.exports.useState(A.EditorState.createEmpty()),[F,M]=g.exports.useState(!1),[P,B]=g.exports.useState(!1),[y,a]=g.exports.useState(!1),[c,f]=g.exports.useState(new Date),{control:ae,setError:te,setValue:E,clearErrors:se,handleSubmit:le,formState:{errors:j}}=Ge({defaultValues:{title:""}}),ie=[{value:"pheobe",label:"Pheobe Buffay",img:U},{value:"chandler",label:"Chandler Bing",img:We},{value:"ross",label:"Ross Geller",img:He},{value:"monica",label:"Monica Geller",img:qe},{value:"joey",label:"Joey Tribbiani",img:Ve},{value:"Rachel",label:"Rachel Green",img:Pe}],ne=[{value:"team",label:"Team"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"update",label:"Update"}],re=({data:l,...k})=>e($e.Option,{...k,children:t("div",{className:"d-flex align-items-center",children:[e("img",{className:"d-block rounded-circle me-50",src:l.img,height:"26",width:"26",alt:l.label}),e("p",{className:"mb-0",children:l.label})]})}),oe=()=>s&&!D(s.selectedTask)?e(z,{outline:!0,size:"sm",onClick:()=>M(!F),color:F===!0?"success":"secondary",children:F===!0?"Completed":"Mark Complete"}):"Add Task",ce=()=>{const{selectedTask:l}=s;if(!D(l)){if(E("title",l.title),M(l.isCompleted),B(l.isImportant),o([{value:l.assignee.fullName,label:l.assignee.fullName,img:l.assignee.avatar}]),f(l.dueDate),typeof l.description=="string")C(A.EditorState.createWithContent(A.ContentState.createFromText(l.description)));else{const k=l.description._immutable.currentContent.blockMap,S=Object.keys(k).map(L=>L);C(A.EditorState.createWithContent(A.ContentState.createFromText(k[S].text)))}if(l.tags.length){const k=[];l.tags.map(S=>{k.push({value:S,label:X(S)})}),T(k)}}},de=()=>{T([]),C(""),E("title",""),o({value:"pheobe",label:"Pheobe Buffay",img:U}),M(!1),B(!1),f(new Date),u(r({})),se()},me=()=>{const l=A.EditorState.createWithContent(A.ContentState.createFromText(s.selectedTask.description));if(E("title",s.selectedTask.title),C(l),M(s.selectedTask.isCompleted),B(s.selectedTask.isImportant),a(s.selectedTask.isDeleted),f(s.selectedTask.dueDate),s.selectedTask.assignee.fullName!==i.label&&o({value:s.selectedTask.assignee.fullName,label:s.selectedTask.assignee.fullName,img:s.selectedTask.assignee.avatar}),s.selectedTask.tags.length){const k=[];s.selectedTask.tags.map(S=>{k.push({value:S,label:X(S)})}),T(k)}},pe=()=>s&&!D(s.selectedTask)?t(g.exports.Fragment,{children:[e(z,{color:"primary",className:"update-btn update-todo-item me-1",children:"Update"}),e(z,{color:"secondary",onClick:me,outline:!0,children:"Reset"})]}):t(g.exports.Fragment,{children:[e(z,{color:"primary",className:"add-todo-item me-1",children:"Add"}),e(z,{color:"secondary",onClick:n,outline:!0,children:"Cancel"})]});return e(ve,{isOpen:v,toggle:n,className:"sidebar-lg",contentClassName:"p-0",onOpened:ce,onClosed:de,modalClassName:"modal-slide-in sidebar-todo-modal",children:t(Te,{id:"form-modal-todo",className:"todo-modal",onSubmit:le(l=>{const k=[],S=!D(s.selectedTask)&&i.label===s.selectedTask.assignee.fullName;m.length&&m.map(ue=>k.push(ue.value));const L={fullName:i.label,avatar:i.img},H={dueDate:c,title:l.title,tags:k,description:w,isCompleted:F,isDeleted:y,isImportant:P,assignee:S||i.label===void 0?s.selectedTask.assignee:L};l.title.length?D(j)&&(D(s.selectedTask)||!D(s.selectedTask)&&!s.selectedTask.title.length?u(N(H)):u(h({...H,id:s.selectedTask.id})),n()):te("title",{type:"manual"})}),children:[e(Je,{store:s,deleted:y,dispatch:u,important:P,deleteTask:d,setDeleted:a,setImportant:B,handleTaskSidebar:n,children:oe()}),t(Ce,{className:"flex-grow-1 pb-sm-0 pb-3",children:[t("div",{className:"mb-1",children:[t(O,{className:"form-label",for:"task-title",children:["Title ",e("span",{className:"text-danger",children:"*"})]}),e(Ue,{name:"title",control:ae,render:({field:l})=>e(W,{id:"task-title",placeholder:"Title",className:"new-todo-item-title",invalid:j.title&&!0,...l})}),j.title&&e(Se,{children:"Please enter a valid task title"})]}),t("div",{className:"mb-1",children:[e(O,{className:"form-label",for:"task-assignee",children:"Assignee"}),e(J,{id:"task-assignee",className:"react-select",classNamePrefix:"select",isClearable:!1,options:ie,theme:Z,value:i,onChange:l=>o(l),components:{Option:re}})]}),t("div",{className:"mb-1",children:[e(O,{className:"form-label",for:"due-date",children:"Due Date"}),e(je,{id:"due-date",name:"due-date",className:"form-control",onChange:l=>f(l[0]),value:c,options:{dateFormat:"Y-m-d"}})]}),t("div",{className:"mb-1",children:[e(O,{className:"form-label",for:"task-tags",children:"Tags"}),e(J,{isMulti:!0,id:"task-tags",className:"react-select",classNamePrefix:"select",isClearable:!1,options:ne,theme:Z,value:m,onChange:l=>{T(l!==null?[...l]:[])}})]}),t("div",{className:"mb-1",children:[e(O,{for:"task-desc",className:"form-label",children:"Description"}),e(Le.exports.Editor,{editorState:w,wrapperClassName:"toolbar-bottom",toolbar:{options:["inline","textAlign"],inline:{inDropdown:!1,options:["bold","italic","underline"]}},onEditorStateChange:l=>C(l)})]}),e("div",{children:pe()})]})]})})};const pa=()=>{const[p,v]=g.exports.useState(""),[n,s]=g.exports.useState(""),[u,h]=g.exports.useState(!1),[r,N]=g.exports.useState(!1),d=Re(),i=xe(C=>C.todo),o=we(),m={filter:o.filter||"",q:n||"",sortBy:p||"",tag:o.tag||""},T=()=>h(!u),w=()=>N(!r);return g.exports.useEffect(()=>{d($({filter:o.filter||"",q:n||"",sortBy:p||"",tag:o.tag||""}))},[i.tasks.length,o.filter,o.tag,n,p]),t(g.exports.Fragment,{children:[e(Ze,{store:i,params:m,getTasks:$,dispatch:d,mainSidebar:u,urlFilter:o.filter,setMainSidebar:h,handleTaskSidebar:w}),e("div",{className:"content-right",children:e("div",{className:"content-wrapper",children:t("div",{className:"content-body",children:[e("div",{className:R("body-content-overlay",{show:u===!0}),onClick:T}),i?e(Qe,{store:i,tasks:i.tasks,sort:p,query:n,params:m,setSort:v,setQuery:s,dispatch:d,getTasks:$,paramsURL:o,updateTask:q,selectTask:_,reOrderTasks:ye,handleMainSidebar:T,handleTaskSidebar:w}):null,e(Xe,{store:i,params:m,addTask:De,dispatch:d,open:r,updateTask:q,selectTask:_,deleteTask:Ae,handleTaskSidebar:w})]})})})]})};export{pa as default};
